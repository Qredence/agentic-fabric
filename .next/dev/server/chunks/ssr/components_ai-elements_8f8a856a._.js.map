{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/canvas.tsx"],"sourcesContent":["import { Background, ReactFlow, type ReactFlowProps } from \"@xyflow/react\"\nimport type { ReactNode } from \"react\"\nimport \"@xyflow/react/dist/style.css\"\n\ntype CanvasProps = ReactFlowProps & {\n  children?: ReactNode\n}\n\nexport const Canvas = ({ children, ...props }: CanvasProps) => (\n  <ReactFlow\n    deleteKeyCode={[\"Backspace\", \"Delete\"]}\n    fitView\n    panOnDrag={[2, 3]}\n    panOnScroll={false}\n    selectionOnDrag={true}\n    selectionKeyCode=\"Shift\"\n    zoomOnScroll={true}\n    zoomOnPinch={true}\n    zoomOnDoubleClick={false}\n    snapToGrid={false}\n    snapGrid={[15, 15]}\n    {...props}\n  >\n    <Background bgColor=\"var(--sidebar)\" />\n    {children}\n  </ReactFlow>\n)\n"],"names":[],"mappings":";;;;;AAAA;;;;AAQO,MAAM,SAAS,CAAC,EAAE,QAAQ,EAAE,GAAG,OAAoB,iBACxD,ubAAC,qWAAS;QACR,eAAe;YAAC;YAAa;SAAS;QACtC,OAAO;QACP,WAAW;YAAC;YAAG;SAAE;QACjB,aAAa;QACb,iBAAiB;QACjB,kBAAiB;QACjB,cAAc;QACd,aAAa;QACb,mBAAmB;QACnB,YAAY;QACZ,UAAU;YAAC;YAAI;SAAG;QACjB,GAAG,KAAK;;0BAET,ubAAC,sWAAU;gBAAC,SAAQ;;;;;;YACnB","debugId":null}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/connection.tsx"],"sourcesContent":["import type { ConnectionLineComponent } from \"@xyflow/react\";\n\nconst HALF = 0.5;\n\nexport const Connection: ConnectionLineComponent = ({\n  fromX,\n  fromY,\n  toX,\n  toY,\n}) => (\n  <g>\n    <path\n      className=\"animated\"\n      d={`M${fromX},${fromY} C ${fromX + (toX - fromX) * HALF},${fromY} ${fromX + (toX - fromX) * HALF},${toY} ${toX},${toY}`}\n      fill=\"none\"\n      stroke=\"var(--color-ring)\"\n      strokeWidth={1}\n    />\n    <circle\n      cx={toX}\n      cy={toY}\n      fill=\"#fff\"\n      r={3}\n      stroke=\"var(--color-ring)\"\n      strokeWidth={1}\n    />\n  </g>\n);\n"],"names":[],"mappings":";;;;;;AAEA,MAAM,OAAO;AAEN,MAAM,aAAsC,CAAC,EAClD,KAAK,EACL,KAAK,EACL,GAAG,EACH,GAAG,EACJ,iBACC,ubAAC;;0BACC,ubAAC;gBACC,WAAU;gBACV,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,EAAE,MAAM,GAAG,EAAE,QAAQ,CAAC,MAAM,KAAK,IAAI,KAAK,CAAC,EAAE,MAAM,CAAC,EAAE,QAAQ,CAAC,MAAM,KAAK,IAAI,KAAK,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,KAAK;gBACvH,MAAK;gBACL,QAAO;gBACP,aAAa;;;;;;0BAEf,ubAAC;gBACC,IAAI;gBACJ,IAAI;gBACJ,MAAK;gBACL,GAAG;gBACH,QAAO;gBACP,aAAa","debugId":null}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/edge.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useMemo } from \"react\";\nimport {\n  BaseEdge,\n  type EdgeProps,\n  getBezierPath,\n  type InternalNode,\n  type Node,\n  Position,\n  useInternalNode,\n  useReactFlow,\n} from \"@xyflow/react\";\n\n/**\n * Enhanced edge types with improved handle position calculation\n */\n\n/**\n * Calculate handle coordinates based on node position and handle type\n * Automatically determines the best handle position and applies smart offsets\n */\nconst getHandleCoordsByPosition = (\n  node: InternalNode<Node>,\n  handlePosition: Position,\n  handleType: \"source\" | \"target\" = handlePosition === Position.Left ? \"target\" : \"source\"\n): [number, number] => {\n  const handle = node.internals.handleBounds?.[handleType]?.find(\n    (h) => h.position === handlePosition\n  );\n\n  if (!handle) {\n    // Fallback to node center if handle not found\n    const bounds = node.internals.bounds;\n    return [\n      node.internals.positionAbsolute.x + (bounds?.width || 0) / 2,\n      node.internals.positionAbsolute.y + (bounds?.height || 0) / 2,\n    ];\n  }\n\n  // Smart offset calculation based on handle type and position\n  let offsetX = handle.width / 2;\n  let offsetY = handle.height / 2;\n\n  // Adjust offset based on handle position for proper connection alignment\n  switch (handlePosition) {\n    case Position.Left:\n      offsetX = 0; // Connect at the left edge\n      break;\n    case Position.Right:\n      offsetX = handle.width; // Connect at the right edge\n      break;\n    case Position.Top:\n      offsetY = 0; // Connect at the top edge\n      break;\n    case Position.Bottom:\n      offsetY = handle.height; // Connect at the bottom edge\n      break;\n    default:\n      // Use center if position is not recognized\n      offsetX = handle.width / 2;\n      offsetY = handle.height / 2;\n  }\n\n  const x = node.internals.positionAbsolute.x + handle.x + offsetX;\n  const y = node.internals.positionAbsolute.y + handle.y + offsetY;\n\n  return [x, y];\n};\n\n/**\n * Get optimal edge parameters with automatic handle position detection\n */\nconst getEdgeParams = (\n  source: InternalNode<Node>,\n  target: InternalNode<Node>\n) => {\n  // Automatically determine best handle positions\n  // Default: source from right, target from left\n  const sourcePos = Position.Right;\n  const targetPos = Position.Left;\n\n  const [sx, sy] = getHandleCoordsByPosition(source, sourcePos, \"source\");\n  const [tx, ty] = getHandleCoordsByPosition(target, targetPos, \"target\");\n\n  return {\n    sx,\n    sy,\n    tx,\n    ty,\n    sourcePos,\n    targetPos,\n  };\n};\n\n/**\n * Temporary Edge Component\n * - Uses dashed lines with ring color\n * - Typically used for preview/connection states\n * - Smooth Bezier curve connection\n */\nexport const TemporaryEdge = ({\n  id,\n  sourceX,\n  sourceY,\n  targetX,\n  targetY,\n  sourcePosition,\n  targetPosition,\n  source,\n  target,\n  style,\n}: EdgeProps) => {\n  // Try to use actual node positions if available for better accuracy\n  const sourceNode = source ? useInternalNode(source) : null;\n  const targetNode = target ? useInternalNode(target) : null;\n\n  const edgePath = useMemo(() => {\n    // Use calculated positions if nodes are available\n    if (sourceNode && targetNode) {\n      const { sx, sy, tx, ty, sourcePos, targetPos } = getEdgeParams(\n        sourceNode,\n        targetNode\n      );\n      const [path] = getBezierPath({\n        sourceX: sx,\n        sourceY: sy,\n        sourcePosition: sourcePos,\n        targetX: tx,\n        targetY: ty,\n        targetPosition: targetPos,\n      });\n      return path;\n    }\n\n    // Fallback to provided coordinates\n    const [path] = getBezierPath({\n      sourceX,\n      sourceY,\n      sourcePosition: sourcePosition || Position.Right,\n      targetX,\n      targetY,\n      targetPosition: targetPosition || Position.Left,\n    });\n    return path;\n  }, [\n    sourceNode,\n    targetNode,\n    sourceX,\n    sourceY,\n    targetX,\n    targetY,\n    sourcePosition,\n    targetPosition,\n  ]);\n\n  return (\n    <BaseEdge\n      id={id}\n      path={edgePath}\n      className=\"stroke-2 stroke-ring\"\n      style={{\n        strokeDasharray: \"8, 4\",\n        strokeLinecap: \"round\",\n        opacity: 0.7,\n        ...style,\n      }}\n    />\n  );\n};\n\n/**\n * Animated Edge Component\n * - Includes a moving circle indicator along the path\n * - Smooth Bezier curve connection\n * - Automatically calculates optimal handle positions\n * - Visual indicator shows flow direction\n * - Interactive button on hover to add nodes\n */\nexport const AnimatedEdge = ({\n  id,\n  source,\n  target,\n  markerEnd,\n  style,\n  sourceX,\n  sourceY,\n  targetX,\n  targetY,\n  sourcePosition,\n  targetPosition,\n  onHover,\n}: EdgeProps & {\n  onHover?: (position: { x: number; y: number }, screenPosition: { x: number; y: number }) => void;\n}) => {\n  const sourceNode = source ? useInternalNode(source) : null;\n  const targetNode = target ? useInternalNode(target) : null;\n  const [isHovered, setIsHovered] = React.useState(false);\n  const reactFlow = useReactFlow();\n\n  const { edgePath, midPoint } =\n    useMemo(() => {\n      if (sourceNode && targetNode) {\n        const params = getEdgeParams(sourceNode, targetNode);\n        const [path] = getBezierPath({\n          sourceX: params.sx,\n          sourceY: params.sy,\n          sourcePosition: params.sourcePos,\n          targetX: params.tx,\n          targetY: params.ty,\n          targetPosition: params.targetPos,\n        });\n        \n        // Calculate midpoint\n        const midX = (params.sx + params.tx) / 2;\n        const midY = (params.sy + params.ty) / 2;\n        \n        return {\n          edgePath: path,\n          midPoint: { x: midX, y: midY },\n        };\n      }\n\n      // Fallback to provided coordinates\n      const [path] = getBezierPath({\n        sourceX,\n        sourceY,\n        sourcePosition: sourcePosition || Position.Right,\n        targetX,\n        targetY,\n        targetPosition: targetPosition || Position.Left,\n      });\n      \n      // Calculate midpoint\n      const midX = (sourceX + targetX) / 2;\n      const midY = (sourceY + targetY) / 2;\n      \n      return {\n        edgePath: path,\n        midPoint: { x: midX, y: midY },\n      };\n    }, [\n      sourceNode,\n      targetNode,\n      sourceX,\n      sourceY,\n      targetX,\n      targetY,\n      sourcePosition,\n      targetPosition,\n    ]);\n\n\n  if (!edgePath) {\n    return null;\n  }\n\n  return (\n    <>\n      <BaseEdge\n        id={id}\n        markerEnd={markerEnd}\n        path={edgePath}\n        style={{\n          strokeWidth: 2,\n          ...style,\n        }}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n      />\n      {/* Animated circle indicator */}\n      <circle\n        r=\"5\"\n        fill=\"hsl(var(--primary))\"\n        className=\"animate-pulse\"\n        opacity={0.8}\n      >\n        <animateMotion\n          dur=\"2s\"\n          repeatCount=\"indefinite\"\n          path={edgePath}\n          keyPoints=\"0;1\"\n          keyTimes=\"0;1\"\n        />\n      </circle>\n      {/* Secondary trailing indicator for better visibility */}\n      <circle\n        r=\"3\"\n        fill=\"hsl(var(--primary))\"\n        opacity={0.5}\n      >\n        <animateMotion\n          dur=\"2s\"\n          repeatCount=\"indefinite\"\n          path={edgePath}\n          keyPoints=\"0.2;1.2\"\n          keyTimes=\"0;1\"\n        />\n      </circle>\n      {/* Interactive button in the middle - shown on hover */}\n      {isHovered && midPoint && onHover && (\n        <foreignObject\n          x={midPoint.x - 16}\n          y={midPoint.y - 16}\n          width=\"32\"\n          height=\"32\"\n          className=\"pointer-events-auto\"\n          onClick={(e) => {\n            e.stopPropagation();\n            const screenPos = reactFlow.flowToScreenPosition(midPoint);\n            onHover(midPoint, screenPos);\n          }}\n        >\n          <div className=\"flex items-center justify-center w-8 h-8 rounded-full bg-background border-2 border-primary shadow-lg cursor-pointer hover:bg-primary/10 transition-colors\">\n            <svg\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 16 16\"\n              fill=\"none\"\n              className=\"text-primary\"\n            >\n              <path\n                d=\"M8 3V13M3 8H13\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n              />\n            </svg>\n          </div>\n        </foreignObject>\n      )}\n    </>\n  );\n};\n\n/**\n * Export edge components for use in edgeTypes configuration\n */\nexport const Edge = {\n  temporary: TemporaryEdge,\n  animated: AnimatedEdge,\n};\n\n// Type exports for TypeScript\nexport type TemporaryEdgeProps = EdgeProps;\nexport type AnimatedEdgeProps = EdgeProps;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 400, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/node.tsx"],"sourcesContent":["import {\n  Card,\n  CardAction,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { cn } from \"@/lib/utils\";\nimport { Handle, Position } from \"@xyflow/react\";\nimport type { ComponentProps } from \"react\";\n\nexport type NodeProps = ComponentProps<typeof Card> & {\n  handles: {\n    target: boolean;\n    source: boolean;\n  };\n};\n\nexport const Node = ({ handles, className, ...props }: NodeProps) => (\n  <Card\n    className={cn(\n      \"node-container relative size-full h-auto w-sm gap-0 rounded-md p-0\",\n      className\n    )}\n    {...props}\n  >\n    {handles.target && <Handle position={Position.Left} type=\"target\" />}\n    {handles.source && <Handle position={Position.Right} type=\"source\" />}\n    {props.children}\n  </Card>\n);\n\nexport type NodeHeaderProps = ComponentProps<typeof CardHeader>;\n\nexport const NodeHeader = ({ className, ...props }: NodeHeaderProps) => (\n  <CardHeader\n    className={cn(\"gap-0.5 rounded-t-md border-b bg-secondary p-3!\", className)}\n    {...props}\n  />\n);\n\nexport type NodeTitleProps = ComponentProps<typeof CardTitle>;\n\nexport const NodeTitle = (props: NodeTitleProps) => <CardTitle {...props} />;\n\nexport type NodeDescriptionProps = ComponentProps<typeof CardDescription>;\n\nexport const NodeDescription = (props: NodeDescriptionProps) => (\n  <CardDescription {...props} />\n);\n\nexport type NodeActionProps = ComponentProps<typeof CardAction>;\n\nexport const NodeAction = (props: NodeActionProps) => <CardAction {...props} />;\n\nexport type NodeContentProps = ComponentProps<typeof CardContent>;\n\nexport const NodeContent = ({ className, ...props }: NodeContentProps) => (\n  <CardContent className={cn(\"p-3\", className)} {...props} />\n);\n\nexport type NodeFooterProps = ComponentProps<typeof CardFooter>;\n\nexport const NodeFooter = ({ className, ...props }: NodeFooterProps) => (\n  <CardFooter\n    className={cn(\"rounded-b-md border-t bg-secondary p-3!\", className)}\n    {...props}\n  />\n);\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;AASA;AACA;AAAA;;;;;AAUO,MAAM,OAAO,CAAC,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,OAAkB,iBAC9D,ubAAC,iIAAI;QACH,WAAW,IAAA,kHAAE,EACX,sEACA;QAED,GAAG,KAAK;;YAER,QAAQ,MAAM,kBAAI,ubAAC,kWAAM;gBAAC,UAAU,sOAAQ,CAAC,IAAI;gBAAE,MAAK;;;;;;YACxD,QAAQ,MAAM,kBAAI,ubAAC,kWAAM;gBAAC,UAAU,sOAAQ,CAAC,KAAK;gBAAE,MAAK;;;;;;YACzD,MAAM,QAAQ;;;;;;;AAMZ,MAAM,aAAa,CAAC,EAAE,SAAS,EAAE,GAAG,OAAwB,iBACjE,ubAAC,uIAAU;QACT,WAAW,IAAA,kHAAE,EAAC,mDAAmD;QAChE,GAAG,KAAK;;;;;;AAMN,MAAM,YAAY,CAAC,sBAA0B,ubAAC,sIAAS;QAAE,GAAG,KAAK;;;;;;AAIjE,MAAM,kBAAkB,CAAC,sBAC9B,ubAAC,4IAAe;QAAE,GAAG,KAAK;;;;;;AAKrB,MAAM,aAAa,CAAC,sBAA2B,ubAAC,uIAAU;QAAE,GAAG,KAAK;;;;;;AAIpE,MAAM,cAAc,CAAC,EAAE,SAAS,EAAE,GAAG,OAAyB,iBACnE,ubAAC,wIAAW;QAAC,WAAW,IAAA,kHAAE,EAAC,OAAO;QAAa,GAAG,KAAK;;;;;;AAKlD,MAAM,aAAa,CAAC,EAAE,SAAS,EAAE,GAAG,OAAwB,iBACjE,ubAAC,uIAAU;QACT,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK","debugId":null}},
    {"offset": {"line": 501, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/toolbar.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\nimport { NodeToolbar, Position } from \"@xyflow/react\";\nimport type { ComponentProps } from \"react\";\n\ntype ToolbarProps = ComponentProps<typeof NodeToolbar>;\n\nexport const Toolbar = ({ className, ...props }: ToolbarProps) => (\n  <NodeToolbar\n    className={cn(\n      \"flex items-center gap-1 rounded-sm border bg-background p-1.5\",\n      className\n    )}\n    position={Position.Bottom}\n    {...props}\n  />\n);\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;;;;AAKO,MAAM,UAAU,CAAC,EAAE,SAAS,EAAE,GAAG,OAAqB,iBAC3D,ubAAC,uWAAW;QACV,WAAW,IAAA,kHAAE,EACX,iEACA;QAEF,UAAU,sOAAQ,CAAC,MAAM;QACxB,GAAG,KAAK","debugId":null}},
    {"offset": {"line": 525, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/text-block-card.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { motion, AnimatePresence } from \"motion/react\";\nimport { Handle, Position } from \"@xyflow/react\";\nimport {\n  Info,\n  ClipboardCopy,\n  Merge,\n  Plus,\n  Image,\n  Video,\n  ChevronDown,\n  ChevronUp,\n} from \"lucide-react\";\n\nimport type { TextBlockNodeData } from \"@/lib/workflow/types\";\n\ntype TextBlockCardProps = Omit<TextBlockNodeData, \"variant\" | \"handles\"> & {\n  onTextChange?: (text: string) => void;\n  isSelected?: boolean;\n  isHovered?: boolean;\n  onToggleCollapse?: () => void;\n  \"data-id\"?: string;\n};\n\nexport const TextBlockCard: React.FC<TextBlockCardProps> = ({\n  title = \"Text\",\n  model = \"GPT-5\",\n  placeholder = 'Try \"A script excerpt of a romantic meeting in Paris\"',\n  onTextChange,\n  showSuggestions = true,\n  isSelected = false,\n  isHovered = false,\n  collapsed = false,\n  onToggleCollapse,\n  \"data-id\": dataId,\n}) => {\n  const [text, setText] = useState(\"\");\n  const [isFocused, setIsFocused] = useState(false);\n  const [internalHovered, setInternalHovered] = useState(false);\n  const [internalCollapsed, setInternalCollapsed] = useState(collapsed);\n\n  useEffect(() => {\n    setInternalCollapsed(collapsed);\n  }, [collapsed]);\n\n  const hovered = isHovered || internalHovered;\n  const isCollapsed = internalCollapsed;\n\n  const suggestions = [\n    {\n      icon: ClipboardCopy,\n      label: \"Write or paste text\",\n    },\n    {\n      icon: Merge,\n      label: \"Combine ideas\",\n    },\n    {\n      icon: Plus,\n      label: \"Elaborate\",\n    },\n    {\n      icon: Image,\n      label: \"Ask a question about an image\",\n    },\n    {\n      icon: Video,\n      label: \"Turn text into a video\",\n    },\n  ];\n\n  const handleTextChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const newText = e.target.value;\n    setText(newText);\n    onTextChange?.(newText);\n  };\n\n  const toggleCollapse = () => {\n    if (onToggleCollapse) {\n      onToggleCollapse();\n    } else {\n      setInternalCollapsed(!internalCollapsed);\n    }\n  };\n\n  const springTransition = {\n    type: \"spring\" as const,\n    stiffness: 300,\n    damping: 30,\n    mass: 0.8,\n  };\n\n  return (\n    <motion.div\n      layout\n      transition={springTransition}\n      className=\"w-[352px]\"\n      data-id={dataId}\n      onMouseEnter={() => setInternalHovered(true)}\n      onMouseLeave={() => setInternalHovered(false)}\n    >\n      {/* Collapsed State */}\n      {isCollapsed ? (\n        <motion.button\n          aria-label={`Expand ${title}`}\n          layoutId={`node-${dataId || title}`}\n          onClick={toggleCollapse}\n          initial={{\n            scale: 0.95,\n            opacity: 0,\n          }}\n          animate={{\n            scale: 1,\n            opacity: 1,\n          }}\n          exit={{\n            scale: 0.95,\n            opacity: 0,\n          }}\n          transition={springTransition}\n          className={`\n            w-full px-4 py-3 rounded-2xl\n            bg-[rgba(32,32,32,0.9)] backdrop-blur-2xl\n            border transition-all duration-200\n            ${\n              isSelected\n                ? \"border-blue-500/50 ring-2 ring-blue-500/20\"\n                : hovered\n                ? \"border-white/10\"\n                : \"border-white/5\"\n            }\n            hover:border-white/15 active:scale-98\n            flex items-center justify-between\n          `}\n        >\n          <div className=\"flex items-center gap-3 min-w-0\">\n            <motion.div\n              layoutId={`node-title-${dataId || title}`}\n              transition={springTransition}\n              className=\"text-base text-gray-300 truncate\"\n            >\n              {title}\n            </motion.div>\n            <motion.div\n              initial={{\n                opacity: 0,\n                x: -10,\n              }}\n              animate={{\n                opacity: 1,\n                x: 0,\n              }}\n              transition={{\n                ...springTransition,\n                delay: 0.1,\n              }}\n              className=\"text-xs text-gray-600\"\n            >\n              {model}\n            </motion.div>\n          </div>\n          <motion.div\n            initial={{\n              rotate: 180,\n              opacity: 0,\n            }}\n            animate={{\n              rotate: 0,\n              opacity: 1,\n            }}\n            transition={springTransition}\n          >\n            <ChevronDown className=\"h-4 w-4 text-gray-500 shrink-0\" />\n          </motion.div>\n        </motion.button>\n      ) : (\n        <>\n          {/* Header */}\n          <motion.div\n            initial={{\n              opacity: 0,\n              y: -10,\n            }}\n            animate={{\n              opacity: 1,\n              y: 0,\n            }}\n            transition={springTransition}\n            className=\"mb-2 px-0\"\n          >\n            <div className=\"grid grid-cols-[1fr_auto] items-center gap-3\">\n              <div className=\"min-w-0\">\n                <motion.div\n                  layoutId={`node-title-${dataId || title}`}\n                  transition={springTransition}\n                  className={`text-[24px] leading-[30px] truncate transition-colors duration-200 ${\n                    hovered ? \"text-gray-300\" : \"text-gray-400\"\n                  }`}\n                >\n                  {title}\n                </motion.div>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <motion.div\n                  initial={{\n                    opacity: 0,\n                    x: 10,\n                  }}\n                  animate={{\n                    opacity: 1,\n                    x: 0,\n                  }}\n                  transition={{\n                    ...springTransition,\n                    delay: 0.05,\n                  }}\n                  className=\"text-sm text-gray-600 truncate max-w-[120px]\"\n                >\n                  {model}\n                </motion.div>\n                <motion.button\n                  aria-label={`Collapse ${title}`}\n                  onClick={toggleCollapse}\n                  whileHover={{\n                    scale: 1.1,\n                  }}\n                  whileTap={{\n                    scale: 0.95,\n                  }}\n                  transition={springTransition}\n                  className=\"p-1 rounded hover:bg-white/5 transition-colors\"\n                >\n                  <ChevronUp className=\"h-4 w-4 text-gray-500\" />\n                </motion.button>\n              </div>\n            </div>\n          </motion.div>\n          {/* Card */}\n          <motion.div\n            layoutId={`node-${dataId || title}`}\n            className=\"relative\"\n            initial={{\n              opacity: 0,\n              scale: 0.95,\n              y: 20,\n            }}\n            animate={{\n              opacity: 1,\n              scale: 1,\n              y: 0,\n            }}\n            exit={{\n              opacity: 0,\n              scale: 0.95,\n              y: 20,\n            }}\n            transition={{\n              ...springTransition,\n              opacity: {\n                duration: 0.2,\n              },\n            }}\n          >\n            <motion.div\n              initial={{\n                borderRadius: 16,\n              }}\n              animate={{\n                borderRadius: 16,\n              }}\n              transition={springTransition}\n              className={`\n                relative h-[352px] w-[352px] rounded-2xl\n                bg-[rgba(32,32,32,0.9)] backdrop-blur-2xl\n                border transition-all duration-200\n                ${\n                  isSelected\n                    ? \"border-blue-500/50 ring-2 ring-blue-500/20\"\n                    : hovered\n                    ? \"border-white/10\"\n                    : \"border-white/5\"\n                }\n                ${isFocused ? \"ring-1 ring-white/10\" : \"\"}\n              `}\n            >\n              <div className=\"flex flex-col h-full rounded-2xl overflow-hidden\">\n                {/* Content Area */}\n                <div className=\"relative flex-1 flex flex-col overflow-hidden\">\n                  {/* Empty State with Suggestions */}\n                  <AnimatePresence mode=\"wait\">\n                    {showSuggestions && !text && !isFocused && (\n                      <motion.div\n                        initial={{\n                          opacity: 0,\n                        }}\n                        animate={{\n                          opacity: 1,\n                        }}\n                        exit={{\n                          opacity: 0,\n                        }}\n                        transition={{\n                          duration: 0.2,\n                        }}\n                      >\n                        {/* Info Banner */}\n                        <motion.div\n                          initial={{\n                            y: -10,\n                            opacity: 0,\n                          }}\n                          animate={{\n                            y: 0,\n                            opacity: 1,\n                          }}\n                          transition={{\n                            ...springTransition,\n                            delay: 0.1,\n                          }}\n                          onClick={toggleCollapse}\n                          className=\"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-white/5 transition-colors duration-200\"\n                        >\n                          <button className=\"flex items-center gap-3 text-gray-600 hover:text-gray-400 transition-colors duration-300\">\n                            <Info className=\"h-3.5 w-3.5\" />\n                            <p className=\"text-xs leading-[16.5px] -tracking-[0.16px]\">\n                              Learn about Text Blocks\n                            </p>\n                          </button>\n                        </motion.div>\n                        <hr className=\"border-t border-[rgb(41,47,53)]\" />\n                        {/* Suggestions */}\n                        <div className=\"flex items-center justify-center h-[260px]\">\n                          <div className=\"flex-1 flex flex-col justify-center gap-4 px-6\">\n                            <motion.span\n                              initial={{\n                                opacity: 0,\n                                x: -10,\n                              }}\n                              animate={{\n                                opacity: 1,\n                                x: 0,\n                              }}\n                              transition={{\n                                ...springTransition,\n                                delay: 0.15,\n                              }}\n                              className=\"text-gray-600 text-xs leading-[16.5px] -tracking-[0.16px]\"\n                            >\n                              Try to...\n                            </motion.span>\n                            <div className=\"flex flex-col gap-3\">\n                              {suggestions.map((suggestion, index) => {\n                                const Icon = suggestion.icon;\n                                return (\n                                  <motion.button\n                                    key={index}\n                                    initial={{\n                                      opacity: 0,\n                                      x: -20,\n                                    }}\n                                    animate={{\n                                      opacity: 1,\n                                      x: 0,\n                                    }}\n                                    transition={{\n                                      ...springTransition,\n                                      delay: 0.2 + index * 0.05,\n                                    }}\n                                    whileHover={{\n                                      x: 4,\n                                      scale: 1.02,\n                                    }}\n                                    whileTap={{\n                                      scale: 0.98,\n                                    }}\n                                    className=\"flex items-center gap-1 p-0.5 rounded text-gray-400 hover:text-gray-300 hover:bg-white/5 transition-all duration-200\"\n                                  >\n                                    <Icon className=\"h-3 w-3\" />\n                                    <span className=\"text-xs leading-[16.5px] -tracking-[0.16px]\">\n                                      {suggestion.label}\n                                    </span>\n                                  </motion.button>\n                                );\n                              })}\n                            </div>\n                          </div>\n                        </div>\n                      </motion.div>\n                    )}\n                  </AnimatePresence>\n                  {/* Text Editor */}\n                  {(text || isFocused || !showSuggestions) && (\n                    <motion.textarea\n                      initial={{\n                        opacity: 0,\n                      }}\n                      animate={{\n                        opacity: 1,\n                      }}\n                      transition={{\n                        duration: 0.2,\n                      }}\n                      value={text}\n                      onChange={handleTextChange}\n                      onFocus={() => setIsFocused(true)}\n                      onBlur={() => setIsFocused(false)}\n                      placeholder=\"\"\n                      className=\"flex-1 w-full resize-none overflow-y-auto wrap-break-word\n                        bg-transparent text-white text-sm leading-[19.25px] -tracking-[0.32px]\n                        p-3 pb-40 outline-none\n                        placeholder:text-gray-600\"\n                    />\n                  )}\n                  {/* Bottom Input Area */}\n                  <motion.div\n                    initial={{\n                      y: 20,\n                      opacity: 0,\n                    }}\n                    animate={{\n                      y: 0,\n                      opacity: 1,\n                    }}\n                    transition={{\n                      ...springTransition,\n                      delay: 0.15,\n                    }}\n                    className=\"absolute bottom-0 left-0 w-full flex flex-col overflow-hidden rounded-b-2xl transition-all duration-300\"\n                  >\n                    <div className=\"relative max-h-36 w-full flex flex-col-reverse overflow-hidden rounded-b-2xl bg-[rgba(32,32,32,0.9)] border-t border-white/5\">\n                      <div className=\"h-auto min-h-0 overflow-auto p-3\">\n                        {/* Animated Placeholder */}\n                        {!text && (\n                          <div className=\"pointer-events-none absolute bottom-3 left-0 flex h-8 w-full gap-3 px-3 pr-14\">\n                            <span className=\"w-[284px] overflow-hidden text-sm leading-[19.25px] -tracking-[0.32px] bg-gradient-to-r from-gray-600 via-white to-gray-600 bg-clip-text text-transparent animate-shimmer\">\n                              {placeholder}\n                            </span>\n                          </div>\n                        )}\n                        {/* Input Grid */}\n                        <div className=\"inline-grid align-top text-sm leading-4 items-stretch relative w-full pr-9 pt-4\">\n                          <textarea\n                            rows={1}\n                            className=\"h-auto w-full overflow-hidden align-bottom resize-none min-h-0 bg-transparent text-white text-sm leading-4 -tracking-[0.32px] outline-none border-none p-0 m-0\"\n                            style={{\n                              gridArea: \"1 / 1 / auto / auto\",\n                            }}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </motion.div>\n                </div>\n              </div>\n            </motion.div>\n            {/* ReactFlow Handles */}\n            <Handle position={Position.Left} type=\"target\" />\n            <Handle position={Position.Right} type=\"source\" />\n            {/* Connection Handles */}\n            <ConnectionHandle position=\"right\" visible={hovered} />\n            <ConnectionHandle position=\"left\" visible={hovered} />\n          </motion.div>\n        </>\n      )}\n    </motion.div>\n  );\n};\n\ninterface ConnectionHandleProps {\n  position: \"left\" | \"right\";\n  visible?: boolean;\n}\n\nconst ConnectionHandle: React.FC<ConnectionHandleProps> = ({\n  position,\n  visible = false,\n}) => {\n  const [isHovered, setIsHovered] = useState(false);\n\n  return (\n    <>\n      {/* Line */}\n      <motion.div\n        initial={{\n          scaleY: 0,\n          opacity: 0,\n        }}\n        animate={{\n          scaleY: visible ? 1 : 0,\n          opacity: visible ? 1 : 0,\n        }}\n        transition={{\n          type: \"spring\",\n          stiffness: 400,\n          damping: 25,\n        }}\n        className={`\n          pointer-events-none absolute top-44 -translate-y-12 z-0\n          flex h-24 w-px items-center origin-center\n          bg-gradient-to-b from-transparent via-white to-transparent\n          ${position === \"right\" ? \"-right-px\" : \"-left-px\"}\n        `}\n      />\n      {/* Handle Button */}\n      <motion.div\n        initial={{\n          scale: 0,\n          opacity: 0,\n        }}\n        animate={{\n          scale: visible || isHovered ? 1 : 0,\n          opacity: visible || isHovered ? 1 : 0,\n        }}\n        transition={{\n          type: \"spring\",\n          stiffness: 400,\n          damping: 20,\n        }}\n        className={`\n          absolute top-44 -translate-y-12 z-0\n          flex h-24 items-center cursor-pointer\n          ${position === \"right\" ? \"-right-8 left-80\" : \"-left-8 right-80\"}\n        `}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n      >\n        <motion.div\n          whileHover={{\n            scale: 1.15,\n            rotate: 90,\n          }}\n          whileTap={{\n            scale: 0.95,\n          }}\n          transition={{\n            type: \"spring\",\n            stiffness: 400,\n            damping: 15,\n          }}\n          className={`p-5 rounded-full transition-colors duration-200 ${\n            isHovered ? \"bg-white/5\" : \"\"\n          }`}\n        >\n          <Plus\n            className={`h-6 w-6 transition-colors duration-200 ${\n              isHovered ? \"text-white\" : \"text-gray-400\"\n            }`}\n          />\n        </motion.div>\n      </motion.div>\n    </>\n  );\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1247, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/attribute-node.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"motion/react\";\nimport { Handle, Position } from \"@xyflow/react\";\nimport { Settings, Check, ChevronDown, ChevronUp, Plus } from \"lucide-react\";\nimport type {\n  AttributeDefinition,\n  AttributeNodeData,\n  AttributeType,\n} from \"@/lib/workflow/types\";\n\ntype AttributeNodeProps = Omit<AttributeNodeData, \"variant\" | \"handles\"> & {\n  isSelected?: boolean;\n  isHovered?: boolean;\n  collapsed?: boolean;\n  onToggleCollapse?: () => void;\n  onAttributeChange?: (id: string, value: any) => void;\n  \"data-id\"?: string;\n};\n\nexport const AttributeNode: React.FC<AttributeNodeProps> = ({\n  title = \"Attributes\",\n  model = \"GPT-5\",\n  attributes = [],\n  isSelected = false,\n  isHovered = false,\n  collapsed = false,\n  onToggleCollapse,\n  onAttributeChange,\n  \"data-id\": dataId,\n}) => {\n  const [internalHovered, setInternalHovered] = useState(false);\n  const [internalCollapsed, setInternalCollapsed] = useState(collapsed);\n  const [values, setValues] = useState<Record<string, any>>(() => {\n    const initial: Record<string, any> = {};\n    attributes.forEach((attr) => {\n      initial[attr.id] = attr.value ?? getDefaultValue(attr.type);\n    });\n    return initial;\n  });\n\n  useEffect(() => {\n    setInternalCollapsed(collapsed);\n  }, [collapsed]);\n\n  useEffect(() => {\n    setValues((prev) => {\n      const next: Record<string, any> = {};\n\n      attributes.forEach((attr) => {\n        const previousValue = prev[attr.id];\n        next[attr.id] =\n          attr.value ?? previousValue ?? getDefaultValue(attr.type);\n      });\n\n      return next;\n    });\n  }, [attributes]);\n\n  const hovered = isHovered || internalHovered;\n  const isCollapsed = internalCollapsed;\n\n  const handleChange = (id: string, value: any) => {\n    setValues((prev) => ({\n      ...prev,\n      [id]: value,\n    }));\n    onAttributeChange?.(id, value);\n  };\n\n  const toggleCollapse = () => {\n    if (onToggleCollapse) {\n      onToggleCollapse();\n    } else {\n      setInternalCollapsed(!internalCollapsed);\n    }\n  };\n\n  const springTransition = {\n    type: \"spring\" as const,\n    stiffness: 300,\n    damping: 30,\n    mass: 0.8,\n  };\n\n  return (\n    <motion.div\n      layout\n      transition={springTransition}\n      className=\"w-[352px]\"\n      data-id={dataId}\n      onMouseEnter={() => setInternalHovered(true)}\n      onMouseLeave={() => setInternalHovered(false)}\n    >\n      {/* Collapsed State */}\n      {isCollapsed ? (\n        <motion.button\n          aria-label={`Expand ${title}`}\n          layoutId={`attr-node-${dataId || title}`}\n          onClick={toggleCollapse}\n          initial={{\n            scale: 0.95,\n            opacity: 0,\n          }}\n          animate={{\n            scale: 1,\n            opacity: 1,\n          }}\n          exit={{\n            scale: 0.95,\n            opacity: 0,\n          }}\n          transition={springTransition}\n          className={`\n            w-full px-4 py-3 rounded-2xl\n            bg-[rgba(32,32,32,0.9)] backdrop-blur-2xl\n            border transition-all duration-200\n            ${\n              isSelected\n                ? \"border-blue-500/50 ring-2 ring-blue-500/20\"\n                : hovered\n                ? \"border-white/10\"\n                : \"border-white/5\"\n            }\n            hover:border-white/15 active:scale-98\n            flex items-center justify-between\n          `}\n        >\n          <div className=\"flex items-center gap-3 min-w-0\">\n            <motion.div\n              initial={{\n                rotate: -90,\n                opacity: 0,\n              }}\n              animate={{\n                rotate: 0,\n                opacity: 1,\n              }}\n              transition={springTransition}\n            >\n              <Settings className=\"h-4 w-4 text-gray-500 shrink-0\" />\n            </motion.div>\n            <motion.div\n              layoutId={`attr-title-${dataId || title}`}\n              transition={springTransition}\n              className=\"text-base text-gray-300 truncate\"\n            >\n              {title}\n            </motion.div>\n            <motion.div\n              initial={{\n                opacity: 0,\n                x: -10,\n              }}\n              animate={{\n                opacity: 1,\n                x: 0,\n              }}\n              transition={{\n                ...springTransition,\n                delay: 0.1,\n              }}\n              className=\"text-xs text-gray-600\"\n            >\n              {model}\n            </motion.div>\n          </div>\n          <motion.div\n            initial={{\n              rotate: 180,\n              opacity: 0,\n            }}\n            animate={{\n              rotate: 0,\n              opacity: 1,\n            }}\n            transition={springTransition}\n          >\n            <ChevronDown className=\"h-4 w-4 text-gray-500 shrink-0\" />\n          </motion.div>\n        </motion.button>\n      ) : (\n        <>\n          {/* Header */}\n          <motion.div\n            initial={{\n              opacity: 0,\n              y: -10,\n            }}\n            animate={{\n              opacity: 1,\n              y: 0,\n            }}\n            transition={springTransition}\n            className=\"mb-2 px-0\"\n          >\n            <div className=\"grid grid-cols-[1fr_auto] items-center gap-3\">\n              <div className=\"min-w-0\">\n                <motion.div\n                  layoutId={`attr-title-${dataId || title}`}\n                  transition={springTransition}\n                  className={`text-[24px] leading-[30px] truncate transition-colors duration-200 ${\n                    hovered ? \"text-gray-300\" : \"text-gray-400\"\n                  }`}\n                >\n                  {title}\n                </motion.div>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <motion.div\n                  initial={{\n                    opacity: 0,\n                    x: 10,\n                  }}\n                  animate={{\n                    opacity: 1,\n                    x: 0,\n                  }}\n                  transition={{\n                    ...springTransition,\n                    delay: 0.05,\n                  }}\n                  className=\"text-sm text-gray-600 truncate max-w-[120px]\"\n                >\n                  {model}\n                </motion.div>\n                <motion.button\n                  aria-label={`Collapse ${title}`}\n                  onClick={toggleCollapse}\n                  whileHover={{\n                    scale: 1.1,\n                  }}\n                  whileTap={{\n                    scale: 0.95,\n                  }}\n                  transition={springTransition}\n                  className=\"p-1 rounded hover:bg-white/5 transition-colors\"\n                >\n                  <ChevronUp className=\"h-4 w-4 text-gray-500\" />\n                </motion.button>\n              </div>\n            </div>\n          </motion.div>\n          {/* Card */}\n          <motion.div\n            layoutId={`attr-node-${dataId || title}`}\n            className=\"relative\"\n            initial={{\n              opacity: 0,\n              scale: 0.95,\n              y: 20,\n            }}\n            animate={{\n              opacity: 1,\n              scale: 1,\n              y: 0,\n            }}\n            exit={{\n              opacity: 0,\n              scale: 0.95,\n              y: 20,\n            }}\n            transition={{\n              ...springTransition,\n              opacity: {\n                duration: 0.2,\n              },\n            }}\n          >\n            <motion.div\n              initial={{\n                borderRadius: 16,\n              }}\n              animate={{\n                borderRadius: 16,\n              }}\n              transition={springTransition}\n              className={`\n                relative h-[352px] w-[352px] rounded-2xl\n                bg-[rgba(32,32,32,0.9)] backdrop-blur-2xl\n                border transition-all duration-200\n                ${\n                  isSelected\n                    ? \"border-blue-500/50 ring-2 ring-blue-500/20\"\n                    : hovered\n                    ? \"border-white/10\"\n                    : \"border-white/5\"\n                }\n              `}\n            >\n              <div className=\"flex flex-col h-full rounded-2xl overflow-hidden\">\n                {/* Header with Icon */}\n                <motion.div\n                  initial={{\n                    y: -10,\n                    opacity: 0,\n                  }}\n                  animate={{\n                    y: 0,\n                    opacity: 1,\n                  }}\n                  transition={{\n                    ...springTransition,\n                    delay: 0.1,\n                  }}\n                  onClick={toggleCollapse}\n                  className=\"flex items-center gap-3 px-4 py-3 border-b border-white/5 cursor-pointer hover:bg-white/5 transition-colors duration-200\"\n                >\n                  <Settings className=\"h-4 w-4 text-gray-500\" />\n                  <span className=\"text-sm text-gray-400\">\n                    Configure Parameters\n                  </span>\n                </motion.div>\n                {/* Attributes List */}\n                <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n                  {attributes.length === 0 ? (\n                    <motion.div\n                      initial={{\n                        opacity: 0,\n                        scale: 0.9,\n                      }}\n                      animate={{\n                        opacity: 1,\n                        scale: 1,\n                      }}\n                      transition={springTransition}\n                      className=\"flex items-center justify-center h-full\"\n                    >\n                      <p className=\"text-gray-600 text-sm\">\n                        No attributes configured\n                      </p>\n                    </motion.div>\n                  ) : (\n                    attributes.map((attr, index) => (\n                      <motion.div\n                        key={attr.id}\n                        initial={{\n                          opacity: 0,\n                          x: -20,\n                        }}\n                        animate={{\n                          opacity: 1,\n                          x: 0,\n                        }}\n                        transition={{\n                          ...springTransition,\n                          delay: 0.1 + index * 0.05,\n                        }}\n                      >\n                        <AttributeControl\n                          attribute={attr}\n                          value={values[attr.id]}\n                          onChange={(value) => handleChange(attr.id, value)}\n                        />\n                      </motion.div>\n                    ))\n                  )}\n                </div>\n              </div>\n            </motion.div>\n            {/* Connection Handles */}\n            <ConnectionHandle position=\"right\" visible={hovered} />\n            <ConnectionHandle position=\"left\" visible={hovered} />\n          </motion.div>\n        </>\n      )}\n    </motion.div>\n  );\n};\n\ninterface AttributeControlProps {\n  attribute: AttributeDefinition;\n  value: any;\n  onChange: (value: any) => void;\n}\n\nconst AttributeControl: React.FC<AttributeControlProps> = ({\n  attribute,\n  value,\n  onChange,\n}) => {\n  const [isFocused, setIsFocused] = useState(false);\n\n  const stopNodeDrag = {\n    onPointerDown: (e: React.PointerEvent) => e.stopPropagation(),\n    onMouseDown: (e: React.MouseEvent) => e.stopPropagation(),\n    onTouchStart: (e: React.TouchEvent) => e.stopPropagation(),\n  } as const;\n\n  const renderControl = () => {\n    switch (attribute.type) {\n      case \"input\":\n        return (\n          <input\n            type=\"text\"\n            value={value || \"\"}\n            onChange={(e) => onChange(e.target.value)}\n            onFocus={() => setIsFocused(true)}\n            onBlur={() => setIsFocused(false)}\n            {...stopNodeDrag}\n            className={`\n              w-full px-3 py-2 rounded-lg\n              bg-black/20 border transition-all duration-200\n              text-white text-sm outline-none\n              ${isFocused ? \"border-white/20 bg-black/30\" : \"border-white/10\"}\n              hover:border-white/15\n            `}\n            placeholder={`Enter ${attribute.label.toLowerCase()}`}\n          />\n        );\n      case \"progress\":\n        return (\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between text-xs text-gray-500\">\n              <span>Progress</span>\n              <span>{Math.round(value || 0)}%</span>\n            </div>\n            <div className=\"h-2 bg-black/20 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300 rounded-full\"\n                style={{\n                  width: `${value || 0}%`,\n                }}\n              />\n            </div>\n            <input\n              type=\"range\"\n              min={attribute.min || 0}\n              max={attribute.max || 100}\n              step={attribute.step || 1}\n              value={value || 0}\n              onChange={(e) => onChange(Number(e.target.value))}\n              {...stopNodeDrag}\n              className=\"w-full accent-blue-500\"\n            />\n          </div>\n        );\n      case \"checkbox\":\n        return (\n          <button\n            onClick={() => onChange(!value)}\n            {...stopNodeDrag}\n            className={`\n              flex items-center gap-3 w-full p-3 rounded-lg\n              border transition-all duration-200\n              ${\n                value\n                  ? \"bg-blue-500/10 border-blue-500/30\"\n                  : \"bg-black/20 border-white/10\"\n              }\n              hover:border-white/20 active:scale-98\n            `}\n          >\n            <div\n              className={`\n              w-5 h-5 rounded border-2 flex items-center justify-center\n              transition-all duration-200\n              ${value ? \"bg-blue-500 border-blue-500\" : \"border-gray-600\"}\n            `}\n            >\n              {value && <Check className=\"h-3 w-3 text-white\" />}\n            </div>\n            <span className=\"text-sm text-gray-300\">\n              Enable {attribute.label}\n            </span>\n          </button>\n        );\n      case \"select\":\n        return (\n          <select\n            value={value || \"\"}\n            onChange={(e) => onChange(e.target.value)}\n            onFocus={() => setIsFocused(true)}\n            onBlur={() => setIsFocused(false)}\n            {...stopNodeDrag}\n            className={`\n              w-full px-3 py-2 rounded-lg\n              bg-black/20 border transition-all duration-200\n              text-white text-sm outline-none cursor-pointer\n              ${isFocused ? \"border-white/20 bg-black/30\" : \"border-white/10\"}\n              hover:border-white/15\n            `}\n          >\n            <option value=\"\">Select {attribute.label}</option>\n            {attribute.options?.map((option) => (\n              <option key={option} value={option}>\n                {option}\n              </option>\n            ))}\n          </select>\n        );\n      case \"slider\":\n        return (\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between text-xs text-gray-500\">\n              <span>{attribute.label}</span>\n              <span>{value || attribute.min || 0}</span>\n            </div>\n            <input\n              type=\"range\"\n              min={attribute.min || 0}\n              max={attribute.max || 100}\n              step={attribute.step || 1}\n              value={value || attribute.min || 0}\n              onChange={(e) => onChange(Number(e.target.value))}\n              {...stopNodeDrag}\n              className=\"w-full h-2 bg-black/20 rounded-lg appearance-none cursor-pointer\n                [&::-webkit-slider-thumb]:appearance-none\n                [&::-webkit-slider-thumb]:w-4\n                [&::-webkit-slider-thumb]:h-4\n                [&::-webkit-slider-thumb]:rounded-full\n                [&::-webkit-slider-thumb]:bg-white\n                [&::-webkit-slider-thumb]:cursor-pointer\n                [&::-webkit-slider-thumb]:transition-transform\n                [&::-webkit-slider-thumb]:hover:scale-110\"\n            />\n          </div>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"space-y-2\">\n      <label className=\"text-xs text-gray-500 uppercase tracking-wider\">\n        {attribute.label}\n      </label>\n      {renderControl()}\n    </div>\n  );\n};\n\nconst getDefaultValue = (type: AttributeType): any => {\n  switch (type) {\n    case \"input\":\n      return \"\";\n    case \"progress\":\n      return 0;\n    case \"checkbox\":\n      return false;\n    case \"select\":\n      return \"\";\n    case \"slider\":\n      return 0;\n    default:\n      return null;\n  }\n};\n\ninterface ConnectionHandleProps {\n  position: \"left\" | \"right\";\n  visible?: boolean;\n}\n\nconst ConnectionHandle: React.FC<ConnectionHandleProps> = ({\n  position,\n  visible = false,\n}) => {\n  const [isHovered, setIsHovered] = useState(false);\n\n  return (\n    <>\n      <div\n        className={`\n          pointer-events-none absolute top-44 -translate-y-12 z-0\n          flex h-24 w-px items-center\n          bg-gradient-to-b from-transparent via-white to-transparent\n          transition-opacity duration-300\n          ${visible ? \"opacity-100\" : \"opacity-0\"}\n          ${position === \"right\" ? \"-right-px\" : \"-left-px\"}\n        `}\n      />\n      <div\n        className={`\n          absolute top-44 -translate-y-12 z-0\n          flex h-24 items-center cursor-pointer\n          transition-opacity duration-300\n          ${visible || isHovered ? \"opacity-100\" : \"opacity-0\"}\n          ${position === \"right\" ? \"-right-8 left-80\" : \"-left-8 right-80\"}\n        `}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n      >\n        <div\n          className={`p-5 rounded-full transition-all duration-400 ease-[cubic-bezier(0.34,1.56,0.64,1)] \n          ${isHovered ? \"scale-110 bg-white/5\" : \"scale-100\"}`}\n        >\n          <Plus\n            className={`h-6 w-6 transition-colors duration-200 ${\n              isHovered ? \"text-white\" : \"text-gray-400\"\n            }`}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2031, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/actions.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { cn } from \"@/lib/utils\";\nimport type { ComponentProps } from \"react\";\n\nexport type ActionsProps = ComponentProps<\"div\">;\n\nexport const Actions = ({ className, children, ...props }: ActionsProps) => (\n  <div className={cn(\"flex items-center gap-1\", className)} {...props}>\n    {children}\n  </div>\n);\n\nexport type ActionProps = ComponentProps<typeof Button> & {\n  tooltip?: string;\n  label?: string;\n};\n\nexport const Action = ({\n  tooltip,\n  children,\n  label,\n  className,\n  variant = \"ghost\",\n  size = \"sm\",\n  ...props\n}: ActionProps) => {\n  const button = (\n    <Button\n      className={cn(\n        \"relative size-9 p-1.5 text-muted-foreground hover:text-foreground\",\n        className\n      )}\n      size={size}\n      type=\"button\"\n      variant={variant}\n      {...props}\n    >\n      {children}\n      <span className=\"sr-only\">{label || tooltip}</span>\n    </Button>\n  );\n\n  if (tooltip) {\n    return (\n      <TooltipProvider>\n        <Tooltip>\n          <TooltipTrigger asChild>{button}</TooltipTrigger>\n          <TooltipContent>\n            <p>{tooltip}</p>\n          </TooltipContent>\n        </Tooltip>\n      </TooltipProvider>\n    );\n  }\n\n  return button;\n};\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAMA;AATA;;;;;AAcO,MAAM,UAAU,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAqB,iBACrE,ubAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,2BAA2B;QAAa,GAAG,KAAK;kBAChE;;;;;;AASE,MAAM,SAAS,CAAC,EACrB,OAAO,EACP,QAAQ,EACR,KAAK,EACL,SAAS,EACT,UAAU,OAAO,EACjB,OAAO,IAAI,EACX,GAAG,OACS;IACZ,MAAM,uBACJ,ubAAC,qIAAM;QACL,WAAW,IAAA,kHAAE,EACX,qEACA;QAEF,MAAM;QACN,MAAK;QACL,SAAS;QACR,GAAG,KAAK;;YAER;0BACD,ubAAC;gBAAK,WAAU;0BAAW,SAAS;;;;;;;;;;;;IAIxC,IAAI,SAAS;QACX,qBACE,ubAAC,+IAAe;sBACd,cAAA,ubAAC,uIAAO;;kCACN,ubAAC,8IAAc;wBAAC,OAAO;kCAAE;;;;;;kCACzB,ubAAC,8IAAc;kCACb,cAAA,ubAAC;sCAAG;;;;;;;;;;;;;;;;;;;;;;IAKd;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 2121, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/connection-handle.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { Plus } from \"lucide-react\";\n\ninterface ConnectionHandleProps {\n  position: \"left\" | \"right\";\n  visible?: boolean;\n}\n\nexport const ConnectionHandle: React.FC<ConnectionHandleProps> = ({\n  position,\n  visible = false,\n}) => {\n  const [isHovered, setIsHovered] = useState(false);\n\n  return (\n    <>\n      {/* Visual line indicator */}\n      <div\n        className={`\n          pointer-events-none absolute top-44 -translate-y-12 z-0\n          flex h-24 w-px items-center\n          bg-gradient-to-b from-transparent via-white to-transparent\n          transition-opacity duration-300\n          ${visible ? \"opacity-100\" : \"opacity-0\"}\n          ${position === \"right\" ? \"-right-px\" : \"-left-px\"}\n        `}\n      />\n      \n      {/* Visual handle button - indicates draggable handle position */}\n      <div\n        className={`\n          absolute top-44 -translate-y-12 z-20 pointer-events-none\n          flex h-24 items-center\n          transition-opacity duration-300\n          ${visible || isHovered ? \"opacity-100\" : \"opacity-0\"}\n          ${position === \"right\" ? \"-right-8 left-80\" : \"-left-8 right-80\"}\n        `}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n      >\n        <div\n          className={`p-5 rounded-full transition-all duration-400 ease-[cubic-bezier(0.34,1.56,0.64,1)]\n          ${isHovered ? \"scale-110 bg-white/10\" : \"scale-100 bg-white/5\"}`}\n        >\n          <Plus\n            className={`h-6 w-6 transition-colors duration-200 ${\n              isHovered ? \"text-white\" : \"text-gray-400\"\n            }`}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAUO,MAAM,mBAAoD,CAAC,EAChE,QAAQ,EACR,UAAU,KAAK,EAChB;IACC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,0ZAAQ,EAAC;IAE3C,qBACE;;0BAEE,ubAAC;gBACC,WAAW,CAAC;;;;;UAKV,EAAE,UAAU,gBAAgB,YAAY;UACxC,EAAE,aAAa,UAAU,cAAc,WAAW;QACpD,CAAC;;;;;;0BAIH,ubAAC;gBACC,WAAW,CAAC;;;;UAIV,EAAE,WAAW,YAAY,gBAAgB,YAAY;UACrD,EAAE,aAAa,UAAU,qBAAqB,mBAAmB;QACnE,CAAC;gBACD,cAAc,IAAM,aAAa;gBACjC,cAAc,IAAM,aAAa;0BAEjC,cAAA,ubAAC;oBACC,WAAW,CAAC;UACZ,EAAE,YAAY,0BAA0B,wBAAwB;8BAEhE,cAAA,ubAAC,8RAAI;wBACH,WAAW,CAAC,uCAAuC,EACjD,YAAY,eAAe,iBAC3B;;;;;;;;;;;;;;;;;;AAMd","debugId":null}},
    {"offset": {"line": 2187, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/executors/executor-node.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { memo, useState } from \"react\";\nimport { Handle, Position } from \"@xyflow/react\";\nimport { motion, AnimatePresence } from \"motion/react\";\nimport { Info, ChevronDown, ChevronUp, Settings, Activity, UserCheck } from \"lucide-react\";\nimport type { BaseExecutor } from \"@/lib/workflow/types\";\nimport type { ExecutorType } from \"@/lib/workflow/executors\";\nimport { getExecutorTypeLabel, getExecutorTypeDescription } from \"@/lib/workflow/executors\";\nimport { ConnectionHandle } from \"@/components/ai-elements/connection-handle\";\n\n/**\n * Executor node data for React Flow\n */\nexport interface ExecutorNodeData {\n  variant: \"executor\";\n  handles: {\n    target: boolean;\n    source: boolean;\n  };\n  executor: BaseExecutor;\n  executorType: ExecutorType;\n  label?: string;\n  description?: string;\n  status?: \"idle\" | \"running\" | \"completed\" | \"error\";\n  error?: string;\n}\n\n/**\n * Props for ExecutorNode component\n */\nexport type ExecutorNodeProps = any;\n\nconst springTransition = {\n  type: \"spring\" as const,\n  stiffness: 300,\n  damping: 30,\n  mass: 0.8,\n};\n\n/**\n * Base executor node component - displays an executor in the workflow canvas\n */\nexport const ExecutorNode = memo(({ id, data, selected }: ExecutorNodeProps) => {\n  const { handles, executor, executorType, label } = data;\n  const [internalCollapsed, setInternalCollapsed] = useState(false);\n  const [internalHovered, setInternalHovered] = useState(false);\n\n  const displayLabel = label || executor.label || executor.id;\n  const executorTypeLabel = getExecutorTypeLabel(executorType);\n  const executorTypeDescription = getExecutorTypeDescription(executorType);\n  const executorTypeName = executorType;\n  \n  // Get model from executor (for agent executors) or default\n  const metadata = (executor.metadata as Record<string, any> | undefined) ?? {};\n  const magenticMeta = (metadata.magentic as Record<string, any> | undefined) ?? {};\n  const model = (executor as any).model || metadata.model || \"GPT-5\";\n\n  const hovered = internalHovered;\n\n  const toggleCollapse = () => {\n    setInternalCollapsed(!internalCollapsed);\n  };\n\n  // Get current values for suggestions (Magentic Orchestrator)\n  const planningStrategy = (executor as any).planningStrategy || magenticMeta.planningStrategy || \"adaptive\";\n  const progressTracking = (executor as any).progressTracking !== false;\n  const humanInTheLoop = (executor as any).humanInTheLoop === true;\n  const currentProgressTracking = progressTracking ? \"Enabled\" : \"Disabled\";\n  const currentHumanInLoop = humanInTheLoop ? \"Enabled\" : \"Disabled\";\n\n  // Suggestions for Magentic Orchestrator - matching main parameters exactly as shown in properties panel\n  const suggestions = [\n    {\n      icon: Settings,\n      label: `Planning Strategy ${planningStrategy}`,\n    },\n    {\n      icon: Activity,\n      label: `Progress Tracking ${currentProgressTracking}`,\n    },\n    {\n      icon: UserCheck,\n      label: `Human-in-the-loop ${currentHumanInLoop}`,\n    },\n  ];\n\n  const isCollapsed = internalCollapsed;\n\n  return (\n    <motion.div\n      layout\n      transition={springTransition}\n      className=\"w-[352px]\"\n      data-id={id}\n      onMouseEnter={() => setInternalHovered(true)}\n      onMouseLeave={() => setInternalHovered(false)}\n    >\n      {/* Collapsed State */}\n      {isCollapsed ? (\n        <motion.button\n          aria-label={`Expand ${displayLabel}`}\n          layoutId={`node-${id}`}\n          onClick={toggleCollapse}\n          initial={{\n            scale: 0.95,\n            opacity: 0,\n          }}\n          animate={{\n            scale: 1,\n            opacity: 1,\n          }}\n          exit={{\n            scale: 0.95,\n            opacity: 0,\n          }}\n          transition={springTransition}\n          className={`\n            w-full px-4 py-3 rounded-2xl\n            bg-[rgba(32,32,32,0.9)] backdrop-blur-2xl\n            border transition-all duration-200\n            ${\n              selected\n                ? \"border-blue-500/50 ring-2 ring-blue-500/20\"\n                : hovered\n                ? \"border-white/10\"\n                : \"border-white/5\"\n            }\n            hover:border-white/15 active:scale-98\n            flex items-center justify-between\n          `}\n        >\n          <div className=\"flex items-center gap-3 min-w-0\">\n            <motion.div\n              layoutId={`node-title-${id}`}\n              transition={springTransition}\n              className=\"text-base text-gray-300 truncate\"\n            >\n              {displayLabel}\n            </motion.div>\n            <motion.div\n              initial={{\n                opacity: 0,\n                x: -10,\n              }}\n              animate={{\n                opacity: 1,\n                x: 0,\n              }}\n              transition={{\n                ...springTransition,\n                delay: 0.1,\n              }}\n              className=\"text-xs text-gray-600\"\n            >\n              {model}\n            </motion.div>\n          </div>\n          <motion.div\n            initial={{\n              rotate: 180,\n              opacity: 0,\n            }}\n            animate={{\n              rotate: 0,\n              opacity: 1,\n            }}\n            transition={springTransition}\n          >\n            <ChevronDown className=\"h-4 w-4 text-gray-500 shrink-0\" />\n          </motion.div>\n        </motion.button>\n      ) : (\n        <>\n          {/* Header */}\n          <motion.div\n            initial={{\n              opacity: 0,\n              y: -10,\n            }}\n            animate={{\n              opacity: 1,\n              y: 0,\n            }}\n            transition={springTransition}\n            className=\"mb-2 px-0\"\n          >\n            <div className=\"grid grid-cols-[1fr_auto] items-center gap-3\">\n              <div className=\"min-w-0\">\n                <motion.div\n                  layoutId={`node-title-${id}`}\n                  transition={springTransition}\n                  className={`text-[24px] leading-[30px] truncate transition-colors duration-200 ${\n                    hovered ? \"text-gray-300\" : \"text-gray-400\"\n                  }`}\n                >\n                  {displayLabel}\n                </motion.div>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <motion.div\n                  initial={{\n                    opacity: 0,\n                    x: 10,\n                  }}\n                  animate={{\n                    opacity: 1,\n                    x: 0,\n                  }}\n                  transition={{\n                    ...springTransition,\n                    delay: 0.05,\n                  }}\n                  className=\"text-sm text-gray-600 truncate max-w-[120px]\"\n                >\n                  {model}\n                </motion.div>\n                <motion.button\n                  aria-label={`Collapse ${displayLabel}`}\n                  onClick={toggleCollapse}\n                  whileHover={{\n                    scale: 1.1,\n                  }}\n                  whileTap={{\n                    scale: 0.95,\n                  }}\n                  transition={springTransition}\n                  className=\"p-1 rounded hover:bg-white/5 transition-colors\"\n                >\n                  <ChevronUp className=\"h-4 w-4 text-gray-500\" />\n                </motion.button>\n              </div>\n            </div>\n          </motion.div>\n          {/* Card */}\n          <motion.div\n            layoutId={`node-${id}`}\n            className=\"relative\"\n            initial={{\n              opacity: 0,\n              scale: 0.95,\n              y: 20,\n            }}\n            animate={{\n              opacity: 1,\n              scale: 1,\n              y: 0,\n            }}\n            exit={{\n              opacity: 0,\n              scale: 0.95,\n              y: 20,\n            }}\n            transition={{\n              ...springTransition,\n              opacity: {\n                duration: 0.2,\n              },\n            }}\n          >\n            <motion.div\n              initial={{\n                borderRadius: 16,\n              }}\n              animate={{\n                borderRadius: 16,\n              }}\n              transition={springTransition}\n              className={`\n                relative h-[352px] w-[352px] rounded-2xl\n                bg-[rgba(32,32,32,0.9)] backdrop-blur-2xl\n                border transition-all duration-200\n                ${\n                  selected\n                    ? \"border-blue-500/50 ring-2 ring-blue-500/20\"\n                    : hovered\n                    ? \"border-white/10\"\n                    : \"border-white/5\"\n                }\n              `}\n            >\n              <div className=\"flex flex-col h-full rounded-2xl overflow-hidden\">\n                {/* Content Area */}\n                <div className=\"relative flex-1 flex flex-col overflow-hidden\">\n                  {/* Empty State with Suggestions */}\n                  <AnimatePresence mode=\"wait\">\n                    <motion.div\n                      initial={{\n                        opacity: 0,\n                      }}\n                      animate={{\n                        opacity: 1,\n                      }}\n                      exit={{\n                        opacity: 0,\n                      }}\n                      transition={{\n                        duration: 0.2,\n                      }}\n                    >\n                      {/* Info Banner */}\n                      <motion.div\n                        initial={{\n                          y: -10,\n                          opacity: 0,\n                        }}\n                        animate={{\n                          y: 0,\n                          opacity: 1,\n                        }}\n                        transition={{\n                          ...springTransition,\n                          delay: 0.1,\n                        }}\n                        onClick={toggleCollapse}\n                        className=\"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-white/5 transition-colors duration-200\"\n                      >\n                        <button className=\"flex items-center gap-3 text-gray-600 hover:text-gray-400 transition-colors duration-300\">\n                          <Info className=\"h-3.5 w-3.5\" />\n                          <p className=\"text-xs leading-[16.5px] -tracking-[0.16px]\">\n                            Learn about {executorTypeName}\n                          </p>\n                        </button>\n                      </motion.div>\n                      <hr className=\"border-t border-[rgb(41,47,53)]\" />\n                      {/* Suggestions */}\n                      <div className=\"flex items-start h-[260px]\">\n                        <div className=\"flex-1 flex flex-col gap-4 px-6 pt-4\">\n                          <motion.span\n                            initial={{\n                              opacity: 0,\n                              x: -10,\n                            }}\n                            animate={{\n                              opacity: 1,\n                              x: 0,\n                            }}\n                            transition={{\n                              ...springTransition,\n                              delay: 0.15,\n                            }}\n                            className=\"text-gray-600 text-xs leading-[16.5px] -tracking-[0.16px]\"\n                          >\n                            Try to...\n                          </motion.span>\n                          <div className=\"flex flex-col gap-3\">\n                            {suggestions.map((suggestion, index) => {\n                              const Icon = suggestion.icon;\n                              return (\n                                <motion.button\n                                  key={index}\n                                  initial={{\n                                    opacity: 0,\n                                    x: -20,\n                                  }}\n                                  animate={{\n                                    opacity: 1,\n                                    x: 0,\n                                  }}\n                                  transition={{\n                                    ...springTransition,\n                                    delay: 0.2 + index * 0.05,\n                                  }}\n                                  whileHover={{\n                                    x: 4,\n                                    scale: 1.02,\n                                  }}\n                                  whileTap={{\n                                    scale: 0.98,\n                                  }}\n                                  className=\"flex items-center gap-1 p-0.5 rounded text-gray-400 hover:text-gray-300 hover:bg-white/5 transition-all duration-200\"\n                                >\n                                  <Icon className=\"h-3 w-3\" />\n                                  <span className=\"text-xs leading-[16.5px] -tracking-[0.16px]\">\n                                    {suggestion.label}\n                                  </span>\n                                </motion.button>\n                              );\n                            })}\n                          </div>\n                        </div>\n                      </div>\n                    </motion.div>\n                  </AnimatePresence>\n                </div>\n              </div>\n            </motion.div>\n            {/* ReactFlow Handles */}\n            {handles.target && (\n              <Handle position={Position.Left} type=\"target\" />\n            )}\n            {handles.source && (\n              <Handle position={Position.Right} type=\"source\" />\n            )}\n            {/* Connection Handles */}\n            {handles.target && (\n              <ConnectionHandle position=\"left\" visible={hovered} />\n            )}\n            {handles.source && (\n              <ConnectionHandle position=\"right\" visible={hovered} />\n            )}\n          </motion.div>\n        </>\n      )}\n    </motion.div>\n  );\n});\n\nExecutorNode.displayName = \"ExecutorNode\";\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2731, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/executors/function-executor-node.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { memo, useState } from \"react\";\nimport { Handle, Position } from \"@xyflow/react\";\nimport { motion, AnimatePresence } from \"motion/react\";\nimport { Info, ChevronDown, ChevronUp, ArrowLeftRight, Code, Settings, FileCode } from \"lucide-react\";\nimport type { FunctionExecutor } from \"@/lib/workflow/executors\";\nimport { getExecutorTypeLabel, getExecutorTypeDescription } from \"@/lib/workflow/executors\";\nimport { ConnectionHandle } from \"@/components/ai-elements/connection-handle\";\n\n/**\n * Function executor node data\n */\nexport interface FunctionExecutorNodeData {\n  variant: \"function-executor\";\n  handles: {\n    target: boolean;\n    source: boolean;\n  };\n  executor: FunctionExecutor;\n  label?: string;\n  description?: string;\n  status?: \"idle\" | \"running\" | \"completed\" | \"error\";\n}\n\n/**\n * Props for FunctionExecutorNode component\n */\nexport type FunctionExecutorNodeProps = any;\n\nconst springTransition = {\n  type: \"spring\" as const,\n  stiffness: 300,\n  damping: 30,\n  mass: 0.8,\n};\n\n/**\n * Function executor node component\n */\nexport const FunctionExecutorNode = memo(({ id, data, selected }: FunctionExecutorNodeProps) => {\n  const { handles, executor, label } = data;\n  const [internalCollapsed, setInternalCollapsed] = useState(false);\n  const [internalHovered, setInternalHovered] = useState(false);\n\n  const displayLabel = label || executor.label || executor.functionName || executor.id;\n  const executorTypeLabel = getExecutorTypeLabel(\"function-executor\");\n  const executorTypeDescription = getExecutorTypeDescription(\"function-executor\");\n  const executorTypeName = \"function-executor\";\n  \n  // Get model from metadata or default\n  const metadata = (executor.metadata as Record<string, any> | undefined) ?? {};\n  const model = metadata.model || \"GPT-5\";\n\n  const hovered = internalHovered;\n\n  const toggleCollapse = () => {\n    setInternalCollapsed(!internalCollapsed);\n  };\n\n  // Get current values for suggestions\n  const currentFunctionName = executor.functionName || \"\";\n  const parametersCount = executor.parameters ? Object.keys(executor.parameters).length : 0;\n  const currentParameters = parametersCount > 0 ? `${parametersCount} parameter(s)` : \"None\";\n  const hasCode = !!executor.functionCode;\n  const currentCode = hasCode ? \"Configured\" : \"None\";\n  const hasFunctionId = !!executor.functionId;\n  const currentFunctionId = hasFunctionId ? executor.functionId || \"\" : \"None\";\n\n  // Suggestions for Function Executor - matching main parameters exactly as shown in properties panel\n  const suggestions = [\n    {\n      icon: FileCode,\n      label: `Function Name ${currentFunctionName}`,\n    },\n    {\n      icon: Settings,\n      label: `Parameters ${currentParameters}`,\n    },\n    {\n      icon: Code,\n      label: `Function Code ${currentCode}`,\n    },\n    {\n      icon: FileCode,\n      label: `Function ID ${currentFunctionId}`,\n    },\n  ];\n\n  const isCollapsed = internalCollapsed;\n\n  return (\n    <motion.div\n      layout\n      transition={springTransition}\n      className=\"w-[352px]\"\n      data-id={id}\n      onMouseEnter={() => setInternalHovered(true)}\n      onMouseLeave={() => setInternalHovered(false)}\n    >\n      {/* Collapsed State */}\n      {isCollapsed ? (\n        <motion.button\n          aria-label={`Expand ${displayLabel}`}\n          layoutId={`node-${id}`}\n          onClick={toggleCollapse}\n          initial={{\n            scale: 0.95,\n            opacity: 0,\n          }}\n          animate={{\n            scale: 1,\n            opacity: 1,\n          }}\n          exit={{\n            scale: 0.95,\n            opacity: 0,\n          }}\n          transition={springTransition}\n          className={`\n            w-full px-4 py-3 rounded-2xl\n            bg-[rgba(32,32,32,0.9)] backdrop-blur-2xl\n            border transition-all duration-200\n            ${\n              selected\n                ? \"border-blue-500/50 ring-2 ring-blue-500/20\"\n                : hovered\n                ? \"border-white/10\"\n                : \"border-white/5\"\n            }\n            hover:border-white/15 active:scale-98\n            flex items-center justify-between\n          `}\n        >\n          <div className=\"flex items-center gap-3 min-w-0\">\n            <motion.div\n              layoutId={`node-title-${id}`}\n              transition={springTransition}\n              className=\"text-base text-gray-300 truncate\"\n            >\n              {displayLabel}\n            </motion.div>\n            <motion.div\n              initial={{\n                opacity: 0,\n                x: -10,\n              }}\n              animate={{\n                opacity: 1,\n                x: 0,\n              }}\n              transition={{\n                ...springTransition,\n                delay: 0.1,\n              }}\n              className=\"text-xs text-gray-600\"\n            >\n              {model}\n            </motion.div>\n          </div>\n          <motion.div\n            initial={{\n              rotate: 180,\n              opacity: 0,\n            }}\n            animate={{\n              rotate: 0,\n              opacity: 1,\n            }}\n            transition={springTransition}\n          >\n            <ChevronDown className=\"h-4 w-4 text-gray-500 shrink-0\" />\n          </motion.div>\n        </motion.button>\n      ) : (\n        <>\n          {/* Header */}\n          <motion.div\n            initial={{\n              opacity: 0,\n              y: -10,\n            }}\n            animate={{\n              opacity: 1,\n              y: 0,\n            }}\n            transition={springTransition}\n            className=\"mb-2 px-0\"\n          >\n            <div className=\"grid grid-cols-[1fr_auto] items-center gap-3\">\n              <div className=\"min-w-0\">\n                <motion.div\n                  layoutId={`node-title-${id}`}\n                  transition={springTransition}\n                  className={`text-[24px] leading-[30px] truncate transition-colors duration-200 ${\n                    hovered ? \"text-gray-300\" : \"text-gray-400\"\n                  }`}\n                >\n                  {displayLabel}\n                </motion.div>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <motion.div\n                  initial={{\n                    opacity: 0,\n                    x: 10,\n                  }}\n                  animate={{\n                    opacity: 1,\n                    x: 0,\n                  }}\n                  transition={{\n                    ...springTransition,\n                    delay: 0.05,\n                  }}\n                  className=\"text-sm text-gray-600 truncate max-w-[120px]\"\n                >\n                  {model}\n                </motion.div>\n                <motion.button\n                  aria-label={`Collapse ${displayLabel}`}\n                  onClick={toggleCollapse}\n                  whileHover={{\n                    scale: 1.1,\n                  }}\n                  whileTap={{\n                    scale: 0.95,\n                  }}\n                  transition={springTransition}\n                  className=\"p-1 rounded hover:bg-white/5 transition-colors\"\n                >\n                  <ChevronUp className=\"h-4 w-4 text-gray-500\" />\n                </motion.button>\n              </div>\n            </div>\n          </motion.div>\n          {/* Card */}\n          <motion.div\n            layoutId={`node-${id}`}\n            className=\"relative\"\n            initial={{\n              opacity: 0,\n              scale: 0.95,\n              y: 20,\n            }}\n            animate={{\n              opacity: 1,\n              scale: 1,\n              y: 0,\n            }}\n            exit={{\n              opacity: 0,\n              scale: 0.95,\n              y: 20,\n            }}\n            transition={{\n              ...springTransition,\n              opacity: {\n                duration: 0.2,\n              },\n            }}\n          >\n            <motion.div\n              initial={{\n                borderRadius: 16,\n              }}\n              animate={{\n                borderRadius: 16,\n              }}\n              transition={springTransition}\n              className={`\n                relative h-[352px] w-[352px] rounded-2xl\n                bg-[rgba(32,32,32,0.9)] backdrop-blur-2xl\n                border transition-all duration-200\n                ${\n                  selected\n                    ? \"border-blue-500/50 ring-2 ring-blue-500/20\"\n                    : hovered\n                    ? \"border-white/10\"\n                    : \"border-white/5\"\n                }\n              `}\n            >\n              <div className=\"flex flex-col h-full rounded-2xl overflow-hidden\">\n                {/* Content Area */}\n                <div className=\"relative flex-1 flex flex-col overflow-hidden\">\n                  {/* Empty State with Suggestions */}\n                  <AnimatePresence mode=\"wait\">\n                    <motion.div\n                      initial={{\n                        opacity: 0,\n                      }}\n                      animate={{\n                        opacity: 1,\n                      }}\n                      exit={{\n                        opacity: 0,\n                      }}\n                      transition={{\n                        duration: 0.2,\n                      }}\n                    >\n                      {/* Info Banner */}\n                      <motion.div\n                        initial={{\n                          y: -10,\n                          opacity: 0,\n                        }}\n                        animate={{\n                          y: 0,\n                          opacity: 1,\n                        }}\n                        transition={{\n                          ...springTransition,\n                          delay: 0.1,\n                        }}\n                        onClick={toggleCollapse}\n                        className=\"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-white/5 transition-colors duration-200\"\n                      >\n                        <button className=\"flex items-center gap-3 text-gray-600 hover:text-gray-400 transition-colors duration-300\">\n                          <Info className=\"h-3.5 w-3.5\" />\n                          <p className=\"text-xs leading-[16.5px] -tracking-[0.16px]\">\n                            Learn about {executorTypeName}\n                          </p>\n                        </button>\n                      </motion.div>\n                      <hr className=\"border-t border-[rgb(41,47,53)]\" />\n                      {/* Suggestions */}\n                      <div className=\"flex items-start h-[260px]\">\n                        <div className=\"flex-1 flex flex-col gap-4 px-6 pt-4\">\n                          <motion.span\n                            initial={{\n                              opacity: 0,\n                              x: -10,\n                            }}\n                            animate={{\n                              opacity: 1,\n                              x: 0,\n                            }}\n                            transition={{\n                              ...springTransition,\n                              delay: 0.15,\n                            }}\n                            className=\"text-gray-600 text-xs leading-[16.5px] -tracking-[0.16px]\"\n                          >\n                            Try to...\n                          </motion.span>\n                          <div className=\"flex flex-col gap-3\">\n                            {suggestions.map((suggestion, index) => {\n                              const Icon = suggestion.icon;\n                              return (\n                                <motion.button\n                                  key={index}\n                                  initial={{\n                                    opacity: 0,\n                                    x: -20,\n                                  }}\n                                  animate={{\n                                    opacity: 1,\n                                    x: 0,\n                                  }}\n                                  transition={{\n                                    ...springTransition,\n                                    delay: 0.2 + index * 0.05,\n                                  }}\n                                  whileHover={{\n                                    x: 4,\n                                    scale: 1.02,\n                                  }}\n                                  whileTap={{\n                                    scale: 0.98,\n                                  }}\n                                  className=\"flex items-center gap-1 p-0.5 rounded text-gray-400 hover:text-gray-300 hover:bg-white/5 transition-all duration-200\"\n                                >\n                                  <Icon className=\"h-3 w-3\" />\n                                  <span className=\"text-xs leading-[16.5px] -tracking-[0.16px]\">\n                                    {suggestion.label}\n                                  </span>\n                                </motion.button>\n                              );\n                            })}\n                          </div>\n                        </div>\n                      </div>\n                    </motion.div>\n                  </AnimatePresence>\n                </div>\n              </div>\n            </motion.div>\n            {/* ReactFlow Handles */}\n            {handles.target && (\n              <Handle position={Position.Left} type=\"target\" />\n            )}\n            {handles.source && (\n              <Handle position={Position.Right} type=\"source\" />\n            )}\n            {/* Connection Handles */}\n            {handles.target && (\n              <ConnectionHandle position=\"left\" visible={hovered} />\n            )}\n            {handles.source && (\n              <ConnectionHandle position=\"right\" visible={hovered} />\n            )}\n          </motion.div>\n        </>\n      )}\n    </motion.div>\n  );\n});\n\nFunctionExecutorNode.displayName = \"FunctionExecutorNode\";\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3280, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/executors/agent-executor-node.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { memo, useState } from \"react\";\nimport { Handle, Position } from \"@xyflow/react\";\nimport { motion, AnimatePresence } from \"motion/react\";\nimport { Info, ChevronDown, ChevronUp, Settings, User, Zap, MessageSquare } from \"lucide-react\";\nimport type { AgentExecutor, ToolReference } from \"@/lib/workflow/executors\";\nimport { getExecutorTypeLabel, getExecutorTypeDescription } from \"@/lib/workflow/executors\";\nimport { ConnectionHandle } from \"@/components/ai-elements/connection-handle\";\n\n/**\n * Agent executor node data\n */\nexport interface AgentExecutorNodeData {\n  variant: \"agent-executor\";\n  handles: {\n    target: boolean;\n    source: boolean;\n  };\n  executor: AgentExecutor;\n  label?: string;\n  description?: string;\n  status?: \"idle\" | \"running\" | \"completed\" | \"error\";\n}\n\n/**\n * Props for AgentExecutorNode component\n */\nexport type AgentExecutorNodeProps = any;\n\nconst springTransition = {\n  type: \"spring\" as const,\n  stiffness: 300,\n  damping: 30,\n  mass: 0.8,\n};\n\n/**\n * Agent executor node component\n */\nexport const AgentExecutorNode = memo(({ id, data, selected }: AgentExecutorNodeProps) => {\n  const { handles, executor, label } = data;\n  const [internalCollapsed, setInternalCollapsed] = useState(false);\n  const [internalHovered, setInternalHovered] = useState(false);\n\n  const typedExecutor = executor as AgentExecutor & {\n    agentRole?: string;\n    capabilities?: string[];\n    tools?: ToolReference[];\n    systemPrompt?: string;\n  };\n\n  const metadata = (executor.metadata as Record<string, any> | undefined) ?? {};\n  const magenticMeta = (metadata.magentic as Record<string, any> | undefined) ?? {};\n  const agentRole = typedExecutor.agentRole || magenticMeta.agentRole;\n\n  const displayLabel = label || executor.label || agentRole || executor.agentId || executor.id;\n  const executorTypeLabel = getExecutorTypeLabel(\"agent-executor\");\n  const executorTypeDescription = getExecutorTypeDescription(\"agent-executor\");\n  const executorTypeName = \"agent-executor\";\n  \n  // Get model from executor or default\n  const model = executor.model || metadata.model || \"GPT-5\";\n\n  const hovered = internalHovered;\n\n  const toggleCollapse = () => {\n    setInternalCollapsed(!internalCollapsed);\n  };\n\n  // Get current values for suggestions\n  const currentModel = executor.model || metadata.model || \"gpt-5\";\n  const currentReasoningEffort = metadata.reasoningEffort || \"low\";\n  const toolsCount = Array.isArray(typedExecutor.tools) ? typedExecutor.tools.length : 0;\n  const currentTools = toolsCount > 0 ? `${toolsCount} tool(s)` : \"No tools\";\n  const currentOutputFormat = metadata.outputFormat || \"text\";\n  const currentVerbosity = metadata.verbosity || \"medium\";\n  const currentSummary = metadata.summary || \"auto\";\n  const currentIncludeChatHistory = metadata.includeChatHistory !== false;\n\n  // Suggestions for Agent Executor - matching main parameters exactly as shown in properties panel\n  const suggestions = [\n    {\n      icon: Settings,\n      label: `Model ${currentModel}`,\n    },\n    {\n      icon: Zap,\n      label: `Reasoning effort ${currentReasoningEffort}`,\n    },\n    {\n      icon: MessageSquare,\n      label: `Tools ${currentTools}`,\n    },\n    {\n      icon: User,\n      label: `Output format ${currentOutputFormat}`,\n    },\n    {\n      icon: Zap,\n      label: `Verbosity ${currentVerbosity}`,\n    },\n    {\n      icon: MessageSquare,\n      label: `Summary ${currentSummary}`,\n    },\n    {\n      icon: User,\n      label: `Include chat history ${currentIncludeChatHistory ? \"Yes\" : \"No\"}`,\n    },\n  ];\n\n  const isCollapsed = internalCollapsed;\n\n  return (\n    <motion.div\n      layout\n      transition={springTransition}\n      className=\"w-[352px]\"\n      data-id={id}\n      onMouseEnter={() => setInternalHovered(true)}\n      onMouseLeave={() => setInternalHovered(false)}\n    >\n      {/* Collapsed State */}\n      {isCollapsed ? (\n        <motion.button\n          aria-label={`Expand ${displayLabel}`}\n          layoutId={`node-${id}`}\n          onClick={toggleCollapse}\n          initial={{\n            scale: 0.95,\n            opacity: 0,\n          }}\n          animate={{\n            scale: 1,\n            opacity: 1,\n          }}\n          exit={{\n            scale: 0.95,\n            opacity: 0,\n          }}\n          transition={springTransition}\n          className={`\n            w-full px-4 py-3 rounded-2xl\n            bg-[rgba(32,32,32,0.9)] backdrop-blur-2xl\n            border transition-all duration-200\n            ${\n              selected\n                ? \"border-blue-500/50 ring-2 ring-blue-500/20\"\n                : hovered\n                ? \"border-white/10\"\n                : \"border-white/5\"\n            }\n            hover:border-white/15 active:scale-98\n            flex items-center justify-between\n          `}\n        >\n          <div className=\"flex items-center gap-3 min-w-0\">\n            <motion.div\n              layoutId={`node-title-${id}`}\n              transition={springTransition}\n              className=\"text-base text-gray-300 truncate\"\n            >\n              {displayLabel}\n            </motion.div>\n            <motion.div\n              initial={{\n                opacity: 0,\n                x: -10,\n              }}\n              animate={{\n                opacity: 1,\n                x: 0,\n              }}\n              transition={{\n                ...springTransition,\n                delay: 0.1,\n              }}\n              className=\"text-xs text-gray-600\"\n            >\n              {model}\n            </motion.div>\n          </div>\n          <motion.div\n            initial={{\n              rotate: 180,\n              opacity: 0,\n            }}\n            animate={{\n              rotate: 0,\n              opacity: 1,\n            }}\n            transition={springTransition}\n          >\n            <ChevronDown className=\"h-4 w-4 text-gray-500 shrink-0\" />\n          </motion.div>\n        </motion.button>\n      ) : (\n        <>\n          {/* Header */}\n          <motion.div\n            initial={{\n              opacity: 0,\n              y: -10,\n            }}\n            animate={{\n              opacity: 1,\n              y: 0,\n            }}\n            transition={springTransition}\n            className=\"mb-2 px-0\"\n          >\n            <div className=\"grid grid-cols-[1fr_auto] items-center gap-3\">\n              <div className=\"min-w-0\">\n                <motion.div\n                  layoutId={`node-title-${id}`}\n                  transition={springTransition}\n                  className={`text-[24px] leading-[30px] truncate transition-colors duration-200 ${\n                    hovered ? \"text-gray-300\" : \"text-gray-400\"\n                  }`}\n                >\n                  {displayLabel}\n                </motion.div>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <motion.div\n                  initial={{\n                    opacity: 0,\n                    x: 10,\n                  }}\n                  animate={{\n                    opacity: 1,\n                    x: 0,\n                  }}\n                  transition={{\n                    ...springTransition,\n                    delay: 0.05,\n                  }}\n                  className=\"text-sm text-gray-600 truncate max-w-[120px]\"\n                >\n                  {model}\n                </motion.div>\n                <motion.button\n                  aria-label={`Collapse ${displayLabel}`}\n                  onClick={toggleCollapse}\n                  whileHover={{\n                    scale: 1.1,\n                  }}\n                  whileTap={{\n                    scale: 0.95,\n                  }}\n                  transition={springTransition}\n                  className=\"p-1 rounded hover:bg-white/5 transition-colors\"\n                >\n                  <ChevronUp className=\"h-4 w-4 text-gray-500\" />\n                </motion.button>\n              </div>\n            </div>\n          </motion.div>\n          {/* Card */}\n          <motion.div\n            layoutId={`node-${id}`}\n            className=\"relative\"\n            initial={{\n              opacity: 0,\n              scale: 0.95,\n              y: 20,\n            }}\n            animate={{\n              opacity: 1,\n              scale: 1,\n              y: 0,\n            }}\n            exit={{\n              opacity: 0,\n              scale: 0.95,\n              y: 20,\n            }}\n            transition={{\n              ...springTransition,\n              opacity: {\n                duration: 0.2,\n              },\n            }}\n          >\n            <motion.div\n              initial={{\n                borderRadius: 16,\n              }}\n              animate={{\n                borderRadius: 16,\n              }}\n              transition={springTransition}\n              className={`\n                relative h-[352px] w-[352px] rounded-2xl\n                bg-[rgba(32,32,32,0.9)] backdrop-blur-2xl\n                border transition-all duration-200\n                ${\n                  selected\n                    ? \"border-blue-500/50 ring-2 ring-blue-500/20\"\n                    : hovered\n                    ? \"border-white/10\"\n                    : \"border-white/5\"\n                }\n              `}\n            >\n              <div className=\"flex flex-col h-full rounded-2xl overflow-hidden\">\n                {/* Content Area */}\n                <div className=\"relative flex-1 flex flex-col overflow-hidden\">\n                  {/* Empty State with Suggestions */}\n                  <AnimatePresence mode=\"wait\">\n                    <motion.div\n                      initial={{\n                        opacity: 0,\n                      }}\n                      animate={{\n                        opacity: 1,\n                      }}\n                      exit={{\n                        opacity: 0,\n                      }}\n                      transition={{\n                        duration: 0.2,\n                      }}\n                    >\n                      {/* Info Banner */}\n                      <motion.div\n                        initial={{\n                          y: -10,\n                          opacity: 0,\n                        }}\n                        animate={{\n                          y: 0,\n                          opacity: 1,\n                        }}\n                        transition={{\n                          ...springTransition,\n                          delay: 0.1,\n                        }}\n                        onClick={toggleCollapse}\n                        className=\"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-white/5 transition-colors duration-200\"\n                      >\n                        <button className=\"flex items-center gap-3 text-gray-600 hover:text-gray-400 transition-colors duration-300\">\n                          <Info className=\"h-3.5 w-3.5\" />\n                          <p className=\"text-xs leading-[16.5px] -tracking-[0.16px]\">\n                            Learn about {executorTypeName}\n                          </p>\n                        </button>\n                      </motion.div>\n                      <hr className=\"border-t border-[rgb(41,47,53)]\" />\n                      {/* Suggestions */}\n                      <div className=\"flex items-start h-[260px]\">\n                        <div className=\"flex-1 flex flex-col gap-4 px-6 pt-4\">\n                          <motion.span\n                            initial={{\n                              opacity: 0,\n                              x: -10,\n                            }}\n                            animate={{\n                              opacity: 1,\n                              x: 0,\n                            }}\n                            transition={{\n                              ...springTransition,\n                              delay: 0.15,\n                            }}\n                            className=\"text-gray-600 text-xs leading-[16.5px] -tracking-[0.16px]\"\n                          >\n                            Try to...\n                          </motion.span>\n                          <div className=\"flex flex-col gap-3\">\n                            {suggestions.map((suggestion, index) => {\n                              const Icon = suggestion.icon;\n                              return (\n                                <motion.button\n                                  key={index}\n                                  initial={{\n                                    opacity: 0,\n                                    x: -20,\n                                  }}\n                                  animate={{\n                                    opacity: 1,\n                                    x: 0,\n                                  }}\n                                  transition={{\n                                    ...springTransition,\n                                    delay: 0.2 + index * 0.05,\n                                  }}\n                                  whileHover={{\n                                    x: 4,\n                                    scale: 1.02,\n                                  }}\n                                  whileTap={{\n                                    scale: 0.98,\n                                  }}\n                                  className=\"flex items-center gap-1 p-0.5 rounded text-gray-400 hover:text-gray-300 hover:bg-white/5 transition-all duration-200\"\n                                >\n                                  <Icon className=\"h-3 w-3\" />\n                                  <span className=\"text-xs leading-[16.5px] -tracking-[0.16px]\">\n                                    {suggestion.label}\n                                  </span>\n                                </motion.button>\n                              );\n                            })}\n                          </div>\n                        </div>\n                      </div>\n                    </motion.div>\n                  </AnimatePresence>\n                </div>\n              </div>\n            </motion.div>\n            {/* ReactFlow Handles */}\n            {handles.target && (\n              <Handle position={Position.Left} type=\"target\" />\n            )}\n            {handles.source && (\n              <Handle position={Position.Right} type=\"source\" />\n            )}\n            {/* Connection Handles */}\n            {handles.target && (\n              <ConnectionHandle position=\"left\" visible={hovered} />\n            )}\n            {handles.source && (\n              <ConnectionHandle position=\"right\" visible={hovered} />\n            )}\n          </motion.div>\n        </>\n      )}\n    </motion.div>\n  );\n});\n\nAgentExecutorNode.displayName = \"AgentExecutorNode\";\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3846, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/executors/workflow-executor-node.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { memo, useState } from \"react\";\nimport { Handle, Position } from \"@xyflow/react\";\nimport { motion, AnimatePresence } from \"motion/react\";\nimport { Info, ChevronDown, ChevronUp, Square, ArrowRightLeft, List } from \"lucide-react\";\nimport type { WorkflowExecutor } from \"@/lib/workflow/executors\";\nimport { getExecutorTypeLabel, getExecutorTypeDescription } from \"@/lib/workflow/executors\";\nimport { ConnectionHandle } from \"@/components/ai-elements/connection-handle\";\n\n/**\n * Workflow executor node data\n */\nexport interface WorkflowExecutorNodeData {\n  variant: \"workflow-executor\";\n  handles: {\n    target: boolean;\n    source: boolean;\n  };\n  executor: WorkflowExecutor;\n  label?: string;\n  description?: string;\n  status?: \"idle\" | \"running\" | \"completed\" | \"error\";\n}\n\n/**\n * Props for WorkflowExecutorNode component\n */\nexport type WorkflowExecutorNodeProps = any;\n\nconst springTransition = {\n  type: \"spring\" as const,\n  stiffness: 300,\n  damping: 30,\n  mass: 0.8,\n};\n\n/**\n * Workflow executor node component - represents a nested workflow\n */\nexport const WorkflowExecutorNode = memo(({ id, data, selected }: WorkflowExecutorNodeProps) => {\n  const { handles, executor, label } = data;\n  const [internalCollapsed, setInternalCollapsed] = useState(false);\n  const [internalHovered, setInternalHovered] = useState(false);\n\n  const displayLabel = label || executor.label || executor.workflowId || executor.id;\n  const executorTypeLabel = getExecutorTypeLabel(\"workflow-executor\");\n  const executorTypeDescription = getExecutorTypeDescription(\"workflow-executor\");\n  const executorTypeName = \"workflow-executor\";\n  \n  // Get model from metadata or default\n  const metadata = (executor.metadata as Record<string, any> | undefined) ?? {};\n  const model = metadata.model || \"GPT-5\";\n\n  const hovered = internalHovered;\n\n  const toggleCollapse = () => {\n    setInternalCollapsed(!internalCollapsed);\n  };\n\n  // Get current values for suggestions\n  const currentWorkflowId = executor.workflowId || \"\";\n  const inputMappingsCount = executor.inputMapping ? Object.keys(executor.inputMapping).length : 0;\n  const currentInputMappings = inputMappingsCount > 0 ? `${inputMappingsCount} mapping(s)` : \"None\";\n  const outputMappingsCount = executor.outputMapping ? Object.keys(executor.outputMapping).length : 0;\n  const currentOutputMappings = outputMappingsCount > 0 ? `${outputMappingsCount} mapping(s)` : \"None\";\n\n  // Suggestions for Workflow Executor - matching main parameters exactly as shown in properties panel\n  const suggestions = [\n    {\n      icon: Square,\n      label: `Workflow ID ${currentWorkflowId}`,\n    },\n    {\n      icon: ArrowRightLeft,\n      label: `Input Mappings ${currentInputMappings}`,\n    },\n    {\n      icon: List,\n      label: `Output Mappings ${currentOutputMappings}`,\n    },\n  ];\n\n  const isCollapsed = internalCollapsed;\n\n  return (\n    <motion.div\n      layout\n      transition={springTransition}\n      className=\"w-[352px]\"\n      data-id={id}\n      onMouseEnter={() => setInternalHovered(true)}\n      onMouseLeave={() => setInternalHovered(false)}\n    >\n      {/* Collapsed State */}\n      {isCollapsed ? (\n        <motion.button\n          aria-label={`Expand ${displayLabel}`}\n          layoutId={`node-${id}`}\n          onClick={toggleCollapse}\n          initial={{\n            scale: 0.95,\n            opacity: 0,\n          }}\n          animate={{\n            scale: 1,\n            opacity: 1,\n          }}\n          exit={{\n            scale: 0.95,\n            opacity: 0,\n          }}\n          transition={springTransition}\n          className={`\n            w-full px-4 py-3 rounded-2xl\n            bg-[rgba(32,32,32,0.9)] backdrop-blur-2xl\n            border transition-all duration-200\n            ${\n              selected\n                ? \"border-blue-500/50 ring-2 ring-blue-500/20\"\n                : hovered\n                ? \"border-white/10\"\n                : \"border-white/5\"\n            }\n            hover:border-white/15 active:scale-98\n            flex items-center justify-between\n          `}\n        >\n          <div className=\"flex items-center gap-3 min-w-0\">\n            <motion.div\n              layoutId={`node-title-${id}`}\n              transition={springTransition}\n              className=\"text-base text-gray-300 truncate\"\n            >\n              {displayLabel}\n            </motion.div>\n            <motion.div\n              initial={{\n                opacity: 0,\n                x: -10,\n              }}\n              animate={{\n                opacity: 1,\n                x: 0,\n              }}\n              transition={{\n                ...springTransition,\n                delay: 0.1,\n              }}\n              className=\"text-xs text-gray-600\"\n            >\n              {model}\n            </motion.div>\n          </div>\n          <motion.div\n            initial={{\n              rotate: 180,\n              opacity: 0,\n            }}\n            animate={{\n              rotate: 0,\n              opacity: 1,\n            }}\n            transition={springTransition}\n          >\n            <ChevronDown className=\"h-4 w-4 text-gray-500 shrink-0\" />\n          </motion.div>\n        </motion.button>\n      ) : (\n        <>\n          {/* Header */}\n          <motion.div\n            initial={{\n              opacity: 0,\n              y: -10,\n            }}\n            animate={{\n              opacity: 1,\n              y: 0,\n            }}\n            transition={springTransition}\n            className=\"mb-2 px-0\"\n          >\n            <div className=\"grid grid-cols-[1fr_auto] items-center gap-3\">\n              <div className=\"min-w-0\">\n                <motion.div\n                  layoutId={`node-title-${id}`}\n                  transition={springTransition}\n                  className={`text-[24px] leading-[30px] truncate transition-colors duration-200 ${\n                    hovered ? \"text-gray-300\" : \"text-gray-400\"\n                  }`}\n                >\n                  {displayLabel}\n                </motion.div>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <motion.div\n                  initial={{\n                    opacity: 0,\n                    x: 10,\n                  }}\n                  animate={{\n                    opacity: 1,\n                    x: 0,\n                  }}\n                  transition={{\n                    ...springTransition,\n                    delay: 0.05,\n                  }}\n                  className=\"text-sm text-gray-600 truncate max-w-[120px]\"\n                >\n                  {model}\n                </motion.div>\n                <motion.button\n                  aria-label={`Collapse ${displayLabel}`}\n                  onClick={toggleCollapse}\n                  whileHover={{\n                    scale: 1.1,\n                  }}\n                  whileTap={{\n                    scale: 0.95,\n                  }}\n                  transition={springTransition}\n                  className=\"p-1 rounded hover:bg-white/5 transition-colors\"\n                >\n                  <ChevronUp className=\"h-4 w-4 text-gray-500\" />\n                </motion.button>\n              </div>\n            </div>\n          </motion.div>\n          {/* Card */}\n          <motion.div\n            layoutId={`node-${id}`}\n            className=\"relative\"\n            initial={{\n              opacity: 0,\n              scale: 0.95,\n              y: 20,\n            }}\n            animate={{\n              opacity: 1,\n              scale: 1,\n              y: 0,\n            }}\n            exit={{\n              opacity: 0,\n              scale: 0.95,\n              y: 20,\n            }}\n            transition={{\n              ...springTransition,\n              opacity: {\n                duration: 0.2,\n              },\n            }}\n          >\n            <motion.div\n              initial={{\n                borderRadius: 16,\n              }}\n              animate={{\n                borderRadius: 16,\n              }}\n              transition={springTransition}\n              className={`\n                relative h-[352px] w-[352px] rounded-2xl\n                bg-[rgba(32,32,32,0.9)] backdrop-blur-2xl\n                border transition-all duration-200\n                ${\n                  selected\n                    ? \"border-blue-500/50 ring-2 ring-blue-500/20\"\n                    : hovered\n                    ? \"border-white/10\"\n                    : \"border-white/5\"\n                }\n              `}\n            >\n              <div className=\"flex flex-col h-full rounded-2xl overflow-hidden\">\n                {/* Content Area */}\n                <div className=\"relative flex-1 flex flex-col overflow-hidden\">\n                  {/* Empty State with Suggestions */}\n                  <AnimatePresence mode=\"wait\">\n                    <motion.div\n                      initial={{\n                        opacity: 0,\n                      }}\n                      animate={{\n                        opacity: 1,\n                      }}\n                      exit={{\n                        opacity: 0,\n                      }}\n                      transition={{\n                        duration: 0.2,\n                      }}\n                    >\n                      {/* Info Banner */}\n                      <motion.div\n                        initial={{\n                          y: -10,\n                          opacity: 0,\n                        }}\n                        animate={{\n                          y: 0,\n                          opacity: 1,\n                        }}\n                        transition={{\n                          ...springTransition,\n                          delay: 0.1,\n                        }}\n                        onClick={toggleCollapse}\n                        className=\"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-white/5 transition-colors duration-200\"\n                      >\n                        <button className=\"flex items-center gap-3 text-gray-600 hover:text-gray-400 transition-colors duration-300\">\n                          <Info className=\"h-3.5 w-3.5\" />\n                          <p className=\"text-xs leading-[16.5px] -tracking-[0.16px]\">\n                            Learn about {executorTypeName}\n                          </p>\n                        </button>\n                      </motion.div>\n                      <hr className=\"border-t border-[rgb(41,47,53)]\" />\n                      {/* Suggestions */}\n                      <div className=\"flex items-start h-[260px]\">\n                        <div className=\"flex-1 flex flex-col gap-4 px-6 pt-4\">\n                          <motion.span\n                            initial={{\n                              opacity: 0,\n                              x: -10,\n                            }}\n                            animate={{\n                              opacity: 1,\n                              x: 0,\n                            }}\n                            transition={{\n                              ...springTransition,\n                              delay: 0.15,\n                            }}\n                            className=\"text-gray-600 text-xs leading-[16.5px] -tracking-[0.16px]\"\n                          >\n                            Try to...\n                          </motion.span>\n                          <div className=\"flex flex-col gap-3\">\n                            {suggestions.map((suggestion, index) => {\n                              const Icon = suggestion.icon;\n                              return (\n                                <motion.button\n                                  key={index}\n                                  initial={{\n                                    opacity: 0,\n                                    x: -20,\n                                  }}\n                                  animate={{\n                                    opacity: 1,\n                                    x: 0,\n                                  }}\n                                  transition={{\n                                    ...springTransition,\n                                    delay: 0.2 + index * 0.05,\n                                  }}\n                                  whileHover={{\n                                    x: 4,\n                                    scale: 1.02,\n                                  }}\n                                  whileTap={{\n                                    scale: 0.98,\n                                  }}\n                                  className=\"flex items-center gap-1 p-0.5 rounded text-gray-400 hover:text-gray-300 hover:bg-white/5 transition-all duration-200\"\n                                >\n                                  <Icon className=\"h-3 w-3\" />\n                                  <span className=\"text-xs leading-[16.5px] -tracking-[0.16px]\">\n                                    {suggestion.label}\n                                  </span>\n                                </motion.button>\n                              );\n                            })}\n                          </div>\n                        </div>\n                      </div>\n                    </motion.div>\n                  </AnimatePresence>\n                </div>\n              </div>\n            </motion.div>\n            {/* ReactFlow Handles */}\n            {handles.target && (\n              <Handle position={Position.Left} type=\"target\" />\n            )}\n            {handles.source && (\n              <Handle position={Position.Right} type=\"source\" />\n            )}\n            {/* Connection Handles */}\n            {handles.target && (\n              <ConnectionHandle position=\"left\" visible={hovered} />\n            )}\n            {handles.source && (\n              <ConnectionHandle position=\"right\" visible={hovered} />\n            )}\n          </motion.div>\n        </>\n      )}\n    </motion.div>\n  );\n});\n\nWorkflowExecutorNode.displayName = \"WorkflowExecutorNode\";\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4389, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/executors/request-info-executor-node.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { memo, useState } from \"react\";\nimport { Handle, Position } from \"@xyflow/react\";\nimport { motion, AnimatePresence } from \"motion/react\";\nimport { Info, ChevronDown, ChevronUp, UserCheck, Globe, MessageSquare } from \"lucide-react\";\nimport type { RequestInfoExecutor } from \"@/lib/workflow/executors\";\nimport { getExecutorTypeLabel, getExecutorTypeDescription } from \"@/lib/workflow/executors\";\nimport { ConnectionHandle } from \"@/components/ai-elements/connection-handle\";\n\n/**\n * Request info executor node data\n */\nexport interface RequestInfoExecutorNodeData {\n  variant: \"request-info-executor\";\n  handles: {\n    target: boolean;\n    source: boolean;\n  };\n  executor: RequestInfoExecutor;\n  label?: string;\n  description?: string;\n  status?: \"idle\" | \"running\" | \"completed\" | \"error\";\n}\n\n/**\n * Props for RequestInfoExecutorNode component\n */\nexport type RequestInfoExecutorNodeProps = any;\n\nconst springTransition = {\n  type: \"spring\" as const,\n  stiffness: 300,\n  damping: 30,\n  mass: 0.8,\n};\n\n/**\n * Request info executor node component - gateway for external information requests\n */\nexport const RequestInfoExecutorNode = memo(({ id, data, selected }: RequestInfoExecutorNodeProps) => {\n  const { handles, executor, label } = data;\n  const [internalCollapsed, setInternalCollapsed] = useState(false);\n  const [internalHovered, setInternalHovered] = useState(false);\n\n  const displayLabel = label || executor.label || executor.requestType || executor.id;\n  const executorTypeLabel = getExecutorTypeLabel(\"request-info-executor\");\n  const executorTypeDescription = getExecutorTypeDescription(\"request-info-executor\");\n  const executorTypeName = \"request-info-executor\";\n  \n  // Get model from metadata or default\n  const metadata = (executor.metadata as Record<string, any> | undefined) ?? {};\n  const model = metadata.model || \"GPT-5\";\n\n  const hovered = internalHovered;\n\n  const toggleCollapse = () => {\n    setInternalCollapsed(!internalCollapsed);\n  };\n\n  // Get current values for suggestions\n  const currentRequestType = executor.requestType || \"\";\n  const currentTimeout = executor.timeout ? `${executor.timeout}ms` : \"\";\n  const hasRetryPolicy = !!executor.retryPolicy;\n  const currentRetryPolicy = hasRetryPolicy ? \"Configured\" : \"None\";\n\n  // Suggestions for Request Info Executor - matching main parameters exactly as shown in properties panel\n  const suggestions = [\n    {\n      icon: UserCheck,\n      label: `Request Type ${currentRequestType}`,\n    },\n    {\n      icon: MessageSquare,\n      label: `Timeout ${currentTimeout}`,\n    },\n    {\n      icon: Globe,\n      label: `Retry Policy ${currentRetryPolicy}`,\n    },\n  ];\n\n  const isCollapsed = internalCollapsed;\n\n  return (\n    <motion.div\n      layout\n      transition={springTransition}\n      className=\"w-[352px]\"\n      data-id={id}\n      onMouseEnter={() => setInternalHovered(true)}\n      onMouseLeave={() => setInternalHovered(false)}\n    >\n      {/* Collapsed State */}\n      {isCollapsed ? (\n        <motion.button\n          aria-label={`Expand ${displayLabel}`}\n          layoutId={`node-${id}`}\n          onClick={toggleCollapse}\n          initial={{\n            scale: 0.95,\n            opacity: 0,\n          }}\n          animate={{\n            scale: 1,\n            opacity: 1,\n          }}\n          exit={{\n            scale: 0.95,\n            opacity: 0,\n          }}\n          transition={springTransition}\n          className={`\n            w-full px-4 py-3 rounded-2xl\n            bg-[rgba(32,32,32,0.9)] backdrop-blur-2xl\n            border transition-all duration-200\n            ${\n              selected\n                ? \"border-blue-500/50 ring-2 ring-blue-500/20\"\n                : hovered\n                ? \"border-white/10\"\n                : \"border-white/5\"\n            }\n            hover:border-white/15 active:scale-98\n            flex items-center justify-between\n          `}\n        >\n          <div className=\"flex items-center gap-3 min-w-0\">\n            <motion.div\n              layoutId={`node-title-${id}`}\n              transition={springTransition}\n              className=\"text-base text-gray-300 truncate\"\n            >\n              {displayLabel}\n            </motion.div>\n            <motion.div\n              initial={{\n                opacity: 0,\n                x: -10,\n              }}\n              animate={{\n                opacity: 1,\n                x: 0,\n              }}\n              transition={{\n                ...springTransition,\n                delay: 0.1,\n              }}\n              className=\"text-xs text-gray-600\"\n            >\n              {model}\n            </motion.div>\n          </div>\n          <motion.div\n            initial={{\n              rotate: 180,\n              opacity: 0,\n            }}\n            animate={{\n              rotate: 0,\n              opacity: 1,\n            }}\n            transition={springTransition}\n          >\n            <ChevronDown className=\"h-4 w-4 text-gray-500 shrink-0\" />\n          </motion.div>\n        </motion.button>\n      ) : (\n        <>\n          {/* Header */}\n          <motion.div\n            initial={{\n              opacity: 0,\n              y: -10,\n            }}\n            animate={{\n              opacity: 1,\n              y: 0,\n            }}\n            transition={springTransition}\n            className=\"mb-2 px-0\"\n          >\n            <div className=\"grid grid-cols-[1fr_auto] items-center gap-3\">\n              <div className=\"min-w-0\">\n                <motion.div\n                  layoutId={`node-title-${id}`}\n                  transition={springTransition}\n                  className={`text-[24px] leading-[30px] truncate transition-colors duration-200 ${\n                    hovered ? \"text-gray-300\" : \"text-gray-400\"\n                  }`}\n                >\n                  {displayLabel}\n                </motion.div>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <motion.div\n                  initial={{\n                    opacity: 0,\n                    x: 10,\n                  }}\n                  animate={{\n                    opacity: 1,\n                    x: 0,\n                  }}\n                  transition={{\n                    ...springTransition,\n                    delay: 0.05,\n                  }}\n                  className=\"text-sm text-gray-600 truncate max-w-[120px]\"\n                >\n                  {model}\n                </motion.div>\n                <motion.button\n                  aria-label={`Collapse ${displayLabel}`}\n                  onClick={toggleCollapse}\n                  whileHover={{\n                    scale: 1.1,\n                  }}\n                  whileTap={{\n                    scale: 0.95,\n                  }}\n                  transition={springTransition}\n                  className=\"p-1 rounded hover:bg-white/5 transition-colors\"\n                >\n                  <ChevronUp className=\"h-4 w-4 text-gray-500\" />\n                </motion.button>\n              </div>\n            </div>\n          </motion.div>\n          {/* Card */}\n          <motion.div\n            layoutId={`node-${id}`}\n            className=\"relative\"\n            initial={{\n              opacity: 0,\n              scale: 0.95,\n              y: 20,\n            }}\n            animate={{\n              opacity: 1,\n              scale: 1,\n              y: 0,\n            }}\n            exit={{\n              opacity: 0,\n              scale: 0.95,\n              y: 20,\n            }}\n            transition={{\n              ...springTransition,\n              opacity: {\n                duration: 0.2,\n              },\n            }}\n          >\n            <motion.div\n              initial={{\n                borderRadius: 16,\n              }}\n              animate={{\n                borderRadius: 16,\n              }}\n              transition={springTransition}\n              className={`\n                relative h-[352px] w-[352px] rounded-2xl\n                bg-[rgba(32,32,32,0.9)] backdrop-blur-2xl\n                border transition-all duration-200\n                ${\n                  selected\n                    ? \"border-blue-500/50 ring-2 ring-blue-500/20\"\n                    : hovered\n                    ? \"border-white/10\"\n                    : \"border-white/5\"\n                }\n              `}\n            >\n              <div className=\"flex flex-col h-full rounded-2xl overflow-hidden\">\n                {/* Content Area */}\n                <div className=\"relative flex-1 flex flex-col overflow-hidden\">\n                  {/* Empty State with Suggestions */}\n                  <AnimatePresence mode=\"wait\">\n                    <motion.div\n                      initial={{\n                        opacity: 0,\n                      }}\n                      animate={{\n                        opacity: 1,\n                      }}\n                      exit={{\n                        opacity: 0,\n                      }}\n                      transition={{\n                        duration: 0.2,\n                      }}\n                    >\n                      {/* Info Banner */}\n                      <motion.div\n                        initial={{\n                          y: -10,\n                          opacity: 0,\n                        }}\n                        animate={{\n                          y: 0,\n                          opacity: 1,\n                        }}\n                        transition={{\n                          ...springTransition,\n                          delay: 0.1,\n                        }}\n                        onClick={toggleCollapse}\n                        className=\"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-white/5 transition-colors duration-200\"\n                      >\n                        <button className=\"flex items-center gap-3 text-gray-600 hover:text-gray-400 transition-colors duration-300\">\n                          <Info className=\"h-3.5 w-3.5\" />\n                          <p className=\"text-xs leading-[16.5px] -tracking-[0.16px]\">\n                            Learn about {executorTypeName}\n                          </p>\n                        </button>\n                      </motion.div>\n                      <hr className=\"border-t border-[rgb(41,47,53)]\" />\n                      {/* Suggestions */}\n                      <div className=\"flex items-start h-[260px]\">\n                        <div className=\"flex-1 flex flex-col gap-4 px-6 pt-4\">\n                          <motion.span\n                            initial={{\n                              opacity: 0,\n                              x: -10,\n                            }}\n                            animate={{\n                              opacity: 1,\n                              x: 0,\n                            }}\n                            transition={{\n                              ...springTransition,\n                              delay: 0.15,\n                            }}\n                            className=\"text-gray-600 text-xs leading-[16.5px] -tracking-[0.16px]\"\n                          >\n                            Try to...\n                          </motion.span>\n                          <div className=\"flex flex-col gap-3\">\n                            {suggestions.map((suggestion, index) => {\n                              const Icon = suggestion.icon;\n                              return (\n                                <motion.button\n                                  key={index}\n                                  initial={{\n                                    opacity: 0,\n                                    x: -20,\n                                  }}\n                                  animate={{\n                                    opacity: 1,\n                                    x: 0,\n                                  }}\n                                  transition={{\n                                    ...springTransition,\n                                    delay: 0.2 + index * 0.05,\n                                  }}\n                                  whileHover={{\n                                    x: 4,\n                                    scale: 1.02,\n                                  }}\n                                  whileTap={{\n                                    scale: 0.98,\n                                  }}\n                                  className=\"flex items-center gap-1 p-0.5 rounded text-gray-400 hover:text-gray-300 hover:bg-white/5 transition-all duration-200\"\n                                >\n                                  <Icon className=\"h-3 w-3\" />\n                                  <span className=\"text-xs leading-[16.5px] -tracking-[0.16px]\">\n                                    {suggestion.label}\n                                  </span>\n                                </motion.button>\n                              );\n                            })}\n                          </div>\n                        </div>\n                      </div>\n                    </motion.div>\n                  </AnimatePresence>\n                </div>\n              </div>\n            </motion.div>\n            {/* ReactFlow Handles */}\n            {handles.target && (\n              <Handle position={Position.Left} type=\"target\" />\n            )}\n            {handles.source && (\n              <Handle position={Position.Right} type=\"source\" />\n            )}\n            {/* Connection Handles */}\n            {handles.target && (\n              <ConnectionHandle position=\"left\" visible={hovered} />\n            )}\n            {handles.source && (\n              <ConnectionHandle position=\"right\" visible={hovered} />\n            )}\n          </motion.div>\n        </>\n      )}\n    </motion.div>\n  );\n});\n\nRequestInfoExecutorNode.displayName = \"RequestInfoExecutorNode\";\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4931, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/edge-groups/fan-in-node.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { memo } from \"react\";\nimport { Handle, Position, type NodeProps as ReactFlowNodeProps } from \"@xyflow/react\";\nimport {\n  Node,\n  NodeContent,\n  NodeDescription,\n  NodeFooter,\n  NodeHeader,\n  NodeTitle,\n} from \"@/components/ai-elements/node\";\nimport { Toolbar } from \"@/components/ai-elements/toolbar\";\nimport { Actions, Action } from \"@/components/ai-elements/actions\";\nimport { ArrowDownToLine, Pencil, Trash2 } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport type { FanInEdgeGroup } from \"@/lib/workflow/edges\";\n\n/**\n * Fan-in node data\n */\nexport interface FanInNodeData {\n  variant: \"fan-in\";\n  handles: {\n    target: boolean;\n    source: boolean;\n    // Multiple target handles for multiple sources\n    sourceCount?: number;\n  };\n  group: FanInEdgeGroup;\n  label?: string;\n  description?: string;\n}\n\n/**\n * Props for FanInNode component\n */\nexport type FanInNodeProps = any;\n\n/**\n * Fan-in edge group node - multiple sources converge into one target\n */\nexport const FanInNode = memo(({ id, data, selected }: FanInNodeProps) => {\n  const { handles, group, label, description } = data;\n\n  const displayLabel = label || `Fan-In (${group.sources.length} sources)`;\n  const displayDescription = description || `Converges ${group.sources.length} sources into ${group.target}`;\n\n  const sourceCount = handles.sourceCount || group.sources.length;\n\n  return (\n    <Node handles={handles} className={cn(selected && \"ring-2 ring-primary\")}>\n      <NodeHeader>\n        <div className=\"flex items-center gap-2\">\n          <ArrowDownToLine className=\"size-4 text-primary\" />\n          <div className=\"flex-1 min-w-0\">\n            <NodeTitle className=\"text-sm truncate\">{displayLabel}</NodeTitle>\n            <NodeDescription className=\"text-xs truncate\">\n              {displayDescription}\n            </NodeDescription>\n          </div>\n        </div>\n      </NodeHeader>\n      <NodeContent>\n        <div className=\"space-y-2\">\n          <div className=\"text-xs text-muted-foreground\">\n            Sources: {group.sources.length}\n          </div>\n          <div className=\"text-xs text-muted-foreground\">\n            Target: <span className=\"font-mono\">{group.target}</span>\n          </div>\n          {group.aggregationStrategy && (\n            <div className=\"text-xs text-muted-foreground\">\n              Strategy: <span className=\"capitalize\">{group.aggregationStrategy}</span>\n            </div>\n          )}\n          {group.customAggregator && (\n            <div className=\"text-xs text-muted-foreground\">\n              Custom aggregator: <span className=\"font-mono\">{group.customAggregator}</span>\n            </div>\n          )}\n        </div>\n      </NodeContent>\n      <NodeFooter>\n        <div className=\"text-xs text-muted-foreground\">\n          Group ID: <span className=\"font-mono\">{group.id}</span>\n        </div>\n      </NodeFooter>\n      <Toolbar>\n        <Actions>\n          <Action tooltip=\"Edit fan-in group\" label=\"Edit\" aria-label=\"Edit\">\n            <Pencil className=\"size-4\" />\n          </Action>\n          <Action tooltip=\"Delete fan-in group\" label=\"Delete\" aria-label=\"Delete\">\n            <Trash2 className=\"size-4\" />\n          </Action>\n        </Actions>\n      </Toolbar>\n    </Node>\n  );\n});\n\nFanInNode.displayName = \"FanInNode\";\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAQA;AACA;AACA;AAAA;AAAA;AACA;AAfA;;;;;;;;AA0CO,MAAM,0BAAY,IAAA,sZAAI,EAAC,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAkB;IACnE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG;IAE/C,MAAM,eAAe,SAAS,CAAC,QAAQ,EAAE,MAAM,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC;IACxE,MAAM,qBAAqB,eAAe,CAAC,UAAU,EAAE,MAAM,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE,MAAM,MAAM,EAAE;IAE1G,MAAM,cAAc,QAAQ,WAAW,IAAI,MAAM,OAAO,CAAC,MAAM;IAE/D,qBACE,ubAAC,6IAAI;QAAC,SAAS;QAAS,WAAW,IAAA,kHAAE,EAAC,YAAY;;0BAChD,ubAAC,mJAAU;0BACT,cAAA,ubAAC;oBAAI,WAAU;;sCACb,ubAAC,2UAAe;4BAAC,WAAU;;;;;;sCAC3B,ubAAC;4BAAI,WAAU;;8CACb,ubAAC,kJAAS;oCAAC,WAAU;8CAAoB;;;;;;8CACzC,ubAAC,wJAAe;oCAAC,WAAU;8CACxB;;;;;;;;;;;;;;;;;;;;;;;0BAKT,ubAAC,oJAAW;0BACV,cAAA,ubAAC;oBAAI,WAAU;;sCACb,ubAAC;4BAAI,WAAU;;gCAAgC;gCACnC,MAAM,OAAO,CAAC,MAAM;;;;;;;sCAEhC,ubAAC;4BAAI,WAAU;;gCAAgC;8CACrC,ubAAC;oCAAK,WAAU;8CAAa,MAAM,MAAM;;;;;;;;;;;;wBAElD,MAAM,mBAAmB,kBACxB,ubAAC;4BAAI,WAAU;;gCAAgC;8CACnC,ubAAC;oCAAK,WAAU;8CAAc,MAAM,mBAAmB;;;;;;;;;;;;wBAGpE,MAAM,gBAAgB,kBACrB,ubAAC;4BAAI,WAAU;;gCAAgC;8CAC1B,ubAAC;oCAAK,WAAU;8CAAa,MAAM,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;0BAK9E,ubAAC,mJAAU;0BACT,cAAA,ubAAC;oBAAI,WAAU;;wBAAgC;sCACnC,ubAAC;4BAAK,WAAU;sCAAa,MAAM,EAAE;;;;;;;;;;;;;;;;;0BAGnD,ubAAC,mJAAO;0BACN,cAAA,ubAAC,mJAAO;;sCACN,ubAAC,kJAAM;4BAAC,SAAQ;4BAAoB,OAAM;4BAAO,cAAW;sCAC1D,cAAA,ubAAC,oSAAM;gCAAC,WAAU;;;;;;;;;;;sCAEpB,ubAAC,kJAAM;4BAAC,SAAQ;4BAAsB,OAAM;4BAAS,cAAW;sCAC9D,cAAA,ubAAC,wSAAM;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM9B;AAEA,UAAU,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 5170, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/edge-groups/fan-out-node.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { memo } from \"react\";\nimport { Handle, Position, type NodeProps as ReactFlowNodeProps } from \"@xyflow/react\";\nimport {\n  Node,\n  NodeContent,\n  NodeDescription,\n  NodeFooter,\n  NodeHeader,\n  NodeTitle,\n} from \"@/components/ai-elements/node\";\nimport { Toolbar } from \"@/components/ai-elements/toolbar\";\nimport { Actions, Action } from \"@/components/ai-elements/actions\";\nimport { ArrowUpFromLine, Pencil, Trash2 } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport type { FanOutEdgeGroup } from \"@/lib/workflow/edges\";\n\n/**\n * Fan-out node data\n */\nexport interface FanOutNodeData {\n  variant: \"fan-out\";\n  handles: {\n    target: boolean;\n    source: boolean;\n    // Multiple source handles for multiple targets\n    targetCount?: number;\n  };\n  group: FanOutEdgeGroup;\n  label?: string;\n  description?: string;\n}\n\n/**\n * Props for FanOutNode component\n */\nexport type FanOutNodeProps = any;\n\n/**\n * Fan-out edge group node - one source broadcasts to multiple targets\n */\nexport const FanOutNode = memo(({ id, data, selected }: FanOutNodeProps) => {\n  const { handles, group, label, description } = data;\n\n  const displayLabel = label || `Fan-Out (${group.targets.length} targets)`;\n  const displayDescription = description || `Broadcasts from ${group.source} to ${group.targets.length} targets`;\n\n  return (\n    <Node handles={handles} className={cn(selected && \"ring-2 ring-primary\")}>\n      <NodeHeader>\n        <div className=\"flex items-center gap-2\">\n          <ArrowUpFromLine className=\"size-4 text-primary\" />\n          <div className=\"flex-1 min-w-0\">\n            <NodeTitle className=\"text-sm truncate\">{displayLabel}</NodeTitle>\n            <NodeDescription className=\"text-xs truncate\">\n              {displayDescription}\n            </NodeDescription>\n          </div>\n        </div>\n      </NodeHeader>\n      <NodeContent>\n        <div className=\"space-y-2\">\n          <div className=\"text-xs text-muted-foreground\">\n            Source: <span className=\"font-mono\">{group.source}</span>\n          </div>\n          <div className=\"text-xs text-muted-foreground\">\n            Targets: {group.targets.length}\n          </div>\n          {group.broadcastMode && (\n            <div className=\"text-xs text-muted-foreground\">\n              Mode: <span className=\"capitalize\">{group.broadcastMode}</span>\n            </div>\n          )}\n        </div>\n      </NodeContent>\n      <NodeFooter>\n        <div className=\"text-xs text-muted-foreground\">\n          Group ID: <span className=\"font-mono\">{group.id}</span>\n        </div>\n      </NodeFooter>\n      <Toolbar>\n        <Actions>\n          <Action tooltip=\"Edit fan-out group\" label=\"Edit\" aria-label=\"Edit\">\n            <Pencil className=\"size-4\" />\n          </Action>\n          <Action tooltip=\"Delete fan-out group\" label=\"Delete\" aria-label=\"Delete\">\n            <Trash2 className=\"size-4\" />\n          </Action>\n        </Actions>\n      </Toolbar>\n    </Node>\n  );\n});\n\nFanOutNode.displayName = \"FanOutNode\";\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAQA;AACA;AACA;AAAA;AAAA;AACA;AAfA;;;;;;;;AA0CO,MAAM,2BAAa,IAAA,sZAAI,EAAC,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAmB;IACrE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG;IAE/C,MAAM,eAAe,SAAS,CAAC,SAAS,EAAE,MAAM,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC;IACzE,MAAM,qBAAqB,eAAe,CAAC,gBAAgB,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE,MAAM,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC;IAE9G,qBACE,ubAAC,6IAAI;QAAC,SAAS;QAAS,WAAW,IAAA,kHAAE,EAAC,YAAY;;0BAChD,ubAAC,mJAAU;0BACT,cAAA,ubAAC;oBAAI,WAAU;;sCACb,ubAAC,2UAAe;4BAAC,WAAU;;;;;;sCAC3B,ubAAC;4BAAI,WAAU;;8CACb,ubAAC,kJAAS;oCAAC,WAAU;8CAAoB;;;;;;8CACzC,ubAAC,wJAAe;oCAAC,WAAU;8CACxB;;;;;;;;;;;;;;;;;;;;;;;0BAKT,ubAAC,oJAAW;0BACV,cAAA,ubAAC;oBAAI,WAAU;;sCACb,ubAAC;4BAAI,WAAU;;gCAAgC;8CACrC,ubAAC;oCAAK,WAAU;8CAAa,MAAM,MAAM;;;;;;;;;;;;sCAEnD,ubAAC;4BAAI,WAAU;;gCAAgC;gCACnC,MAAM,OAAO,CAAC,MAAM;;;;;;;wBAE/B,MAAM,aAAa,kBAClB,ubAAC;4BAAI,WAAU;;gCAAgC;8CACvC,ubAAC;oCAAK,WAAU;8CAAc,MAAM,aAAa;;;;;;;;;;;;;;;;;;;;;;;0BAK/D,ubAAC,mJAAU;0BACT,cAAA,ubAAC;oBAAI,WAAU;;wBAAgC;sCACnC,ubAAC;4BAAK,WAAU;sCAAa,MAAM,EAAE;;;;;;;;;;;;;;;;;0BAGnD,ubAAC,mJAAO;0BACN,cAAA,ubAAC,mJAAO;;sCACN,ubAAC,kJAAM;4BAAC,SAAQ;4BAAqB,OAAM;4BAAO,cAAW;sCAC3D,cAAA,ubAAC,oSAAM;gCAAC,WAAU;;;;;;;;;;;sCAEpB,ubAAC,kJAAM;4BAAC,SAAQ;4BAAuB,OAAM;4BAAS,cAAW;sCAC/D,cAAA,ubAAC,wSAAM;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM9B;AAEA,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 5390, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/edge-groups/switch-case-node.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { memo } from \"react\";\nimport { Handle, Position, type NodeProps as ReactFlowNodeProps } from \"@xyflow/react\";\nimport {\n  Node,\n  NodeContent,\n  NodeDescription,\n  NodeFooter,\n  NodeHeader,\n  NodeTitle,\n} from \"@/components/ai-elements/node\";\nimport { Toolbar } from \"@/components/ai-elements/toolbar\";\nimport { Actions, Action } from \"@/components/ai-elements/actions\";\nimport { GitBranch, Pencil, Trash2 } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport type { SwitchCaseEdgeGroup } from \"@/lib/workflow/edges\";\n\n/**\n * Switch-case node data\n */\nexport interface SwitchCaseNodeData {\n  variant: \"switch-case\";\n  handles: {\n    target: boolean;\n    source: boolean;\n    // Multiple source handles for multiple cases\n    caseCount?: number;\n  };\n  group: SwitchCaseEdgeGroup;\n  label?: string;\n  description?: string;\n}\n\n/**\n * Props for SwitchCaseNode component\n */\nexport type SwitchCaseNodeProps = any;\n\n/**\n * Switch-case edge group node - conditional routing based on expression value\n */\nexport const SwitchCaseNode = memo(({ id, data, selected }: SwitchCaseNodeProps) => {\n  const { handles, group, label, description } = data;\n\n  const displayLabel = label || `Switch/Case (${group.cases.length} cases)`;\n  const displayDescription = description || `Routes based on: ${group.switchExpression}`;\n\n  return (\n    <Node handles={handles} className={cn(selected && \"ring-2 ring-primary\")}>\n      <NodeHeader>\n        <div className=\"flex items-center gap-2\">\n          <GitBranch className=\"size-4 text-primary\" />\n          <div className=\"flex-1 min-w-0\">\n            <NodeTitle className=\"text-sm truncate\">{displayLabel}</NodeTitle>\n            <NodeDescription className=\"text-xs truncate\">\n              {displayDescription}\n            </NodeDescription>\n          </div>\n        </div>\n      </NodeHeader>\n      <NodeContent>\n        <div className=\"space-y-2\">\n          <div className=\"text-xs text-muted-foreground\">\n            Expression: <span className=\"font-mono text-[10px]\">{group.switchExpression}</span>\n          </div>\n          <div className=\"text-xs text-muted-foreground\">\n            Source: <span className=\"font-mono\">{group.source}</span>\n          </div>\n          <div className=\"text-xs text-muted-foreground\">\n            Cases: {group.cases.length}\n          </div>\n          {group.default && (\n            <div className=\"text-xs text-muted-foreground\">\n              Default case: <span className=\"font-mono\">{group.default.target}</span>\n            </div>\n          )}\n          {group.cases.length > 0 && (\n            <div className=\"text-xs space-y-1 max-h-20 overflow-auto\">\n              {group.cases.map((caseItem: any, idx: number) => (\n                <div key={caseItem.id} className=\"bg-muted p-1 rounded\">\n                  Case {idx + 1}: {String(caseItem.value)}  {caseItem.target}\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </NodeContent>\n      <NodeFooter>\n        <div className=\"text-xs text-muted-foreground\">\n          Group ID: <span className=\"font-mono\">{group.id}</span>\n        </div>\n      </NodeFooter>\n      <Toolbar>\n        <Actions>\n          <Action tooltip=\"Edit switch-case group\" label=\"Edit\" aria-label=\"Edit\">\n            <Pencil className=\"size-4\" />\n          </Action>\n          <Action tooltip=\"Delete switch-case group\" label=\"Delete\" aria-label=\"Delete\">\n            <Trash2 className=\"size-4\" />\n          </Action>\n        </Actions>\n      </Toolbar>\n    </Node>\n  );\n});\n\nSwitchCaseNode.displayName = \"SwitchCaseNode\";\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAQA;AACA;AACA;AAAA;AAAA;AACA;AAfA;;;;;;;;AA0CO,MAAM,+BAAiB,IAAA,sZAAI,EAAC,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAuB;IAC7E,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG;IAE/C,MAAM,eAAe,SAAS,CAAC,aAAa,EAAE,MAAM,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC;IACzE,MAAM,qBAAqB,eAAe,CAAC,iBAAiB,EAAE,MAAM,gBAAgB,EAAE;IAEtF,qBACE,ubAAC,6IAAI;QAAC,SAAS;QAAS,WAAW,IAAA,kHAAE,EAAC,YAAY;;0BAChD,ubAAC,mJAAU;0BACT,cAAA,ubAAC;oBAAI,WAAU;;sCACb,ubAAC,iTAAS;4BAAC,WAAU;;;;;;sCACrB,ubAAC;4BAAI,WAAU;;8CACb,ubAAC,kJAAS;oCAAC,WAAU;8CAAoB;;;;;;8CACzC,ubAAC,wJAAe;oCAAC,WAAU;8CACxB;;;;;;;;;;;;;;;;;;;;;;;0BAKT,ubAAC,oJAAW;0BACV,cAAA,ubAAC;oBAAI,WAAU;;sCACb,ubAAC;4BAAI,WAAU;;gCAAgC;8CACjC,ubAAC;oCAAK,WAAU;8CAAyB,MAAM,gBAAgB;;;;;;;;;;;;sCAE7E,ubAAC;4BAAI,WAAU;;gCAAgC;8CACrC,ubAAC;oCAAK,WAAU;8CAAa,MAAM,MAAM;;;;;;;;;;;;sCAEnD,ubAAC;4BAAI,WAAU;;gCAAgC;gCACrC,MAAM,KAAK,CAAC,MAAM;;;;;;;wBAE3B,MAAM,OAAO,kBACZ,ubAAC;4BAAI,WAAU;;gCAAgC;8CAC/B,ubAAC;oCAAK,WAAU;8CAAa,MAAM,OAAO,CAAC,MAAM;;;;;;;;;;;;wBAGlE,MAAM,KAAK,CAAC,MAAM,GAAG,mBACpB,ubAAC;4BAAI,WAAU;sCACZ,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,UAAe,oBAC/B,ubAAC;oCAAsB,WAAU;;wCAAuB;wCAChD,MAAM;wCAAE;wCAAG,OAAO,SAAS,KAAK;wCAAE;wCAAI,SAAS,MAAM;;mCADnD,SAAS,EAAE;;;;;;;;;;;;;;;;;;;;;0BAQ/B,ubAAC,mJAAU;0BACT,cAAA,ubAAC;oBAAI,WAAU;;wBAAgC;sCACnC,ubAAC;4BAAK,WAAU;sCAAa,MAAM,EAAE;;;;;;;;;;;;;;;;;0BAGnD,ubAAC,mJAAO;0BACN,cAAA,ubAAC,mJAAO;;sCACN,ubAAC,kJAAM;4BAAC,SAAQ;4BAAyB,OAAM;4BAAO,cAAW;sCAC/D,cAAA,ubAAC,oSAAM;gCAAC,WAAU;;;;;;;;;;;sCAEpB,ubAAC,kJAAM;4BAAC,SAAQ;4BAA2B,OAAM;4BAAS,cAAW;sCACnE,cAAA,ubAAC,wSAAM;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM9B;AAEA,eAAe,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 5650, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Samsung-SSD-T7/Workspaces/Github/qredence/agent-framework/v0.5/agenticfabric%202/components/ai-elements/panel.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\nimport { Panel as PanelPrimitive } from \"@xyflow/react\"\nimport type { ComponentProps } from \"react\"\n\ntype PanelProps = ComponentProps<typeof PanelPrimitive>\n\nexport const Panel = ({ className, ...props }: PanelProps) => (\n  <PanelPrimitive\n    className={cn(\"m-4 overflow-hidden rounded-md border bg-card text-card-foreground shadow-sm\", className)}\n    {...props}\n  />\n)\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAKO,MAAM,QAAQ,CAAC,EAAE,SAAS,EAAE,GAAG,OAAmB,iBACvD,ubAAC,iWAAc;QACb,WAAW,IAAA,kHAAE,EAAC,gFAAgF;QAC7F,GAAG,KAAK","debugId":null}}]
}